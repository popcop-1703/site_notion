<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Материал лекции</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	padding-inline-start: 0;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.page-description {
    margin-bottom: 2em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-default_background {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 237, 214, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-default_background {
	color: inherit;
	fill: inherit;
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 237, 214, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-uiBlue { background-color: rgba(35, 131, 226, .07); }
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-transparentGray { background-color: rgba(227, 226, 224, 0); }
.select-value-color-translucentGray { background-color: rgba(0, 0, 0, 0.06); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(249, 228, 188, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }
.select-value-color-pageGlass { background-color: undefined; }
.select-value-color-washGlass { background-color: undefined; }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="a3111b2a-03a8-4cf4-8fbd-f5d44af38fb5" class="page sans"><header><h1 class="page-title">Материал лекции</h1><p class="page-description"></p></header><div class="page-body"><p id="b6a1c3cf-1360-44d2-91b5-0773bf6bfe3f" class="">
</p><h1 id="29c005af-49eb-4266-98ff-268fb4995807" class="">Файловая система</h1><p id="363dfeff-61a8-4eb3-80c7-96c6aefa9edc" class="">
</p><p id="2c4b621e-ea60-48bb-a384-464670cf104a" class="">Инструмент позволяющий ОС и программам обращаться к нужным файлам и работать с ними</p><p id="3eb8158e-dbfb-4d76-9aa1-8c33dd6f5d29" class="">
</p><h3 id="1d7ece7c-c513-44fc-8247-868597d8b90d" class="">Функции файловой системы:</h3><ul id="edf685f2-153c-49f1-b606-63721a1fccbc" class="bulleted-list"><li style="list-style-type:disc">Фрагментация файлов и их распределение на носителе</li></ul><ul id="cb82b058-a460-40aa-8216-ec725b57fcd0" class="bulleted-list"><li style="list-style-type:disc">Поиск файла при запросе программ</li></ul><ul id="e01b0338-6729-4e9f-89d9-4fe36b1bbc45" class="bulleted-list"><li style="list-style-type:disc">Участие в создании, чтении и удалении файлов</li></ul><ul id="ca0c0d90-89fd-4392-9db3-2c549f97c9b9" class="bulleted-list"><li style="list-style-type:disc">Работа с атрибутами файлов</li></ul><ul id="6c6f3223-bfe7-4b51-8e7b-8804bc477438" class="bulleted-list"><li style="list-style-type:disc">Каталогизация и организация файлов</li></ul><ul id="5dcc024c-1165-4dd3-af59-b6288e398758" class="bulleted-list"><li style="list-style-type:disc">Защита файлов от несанкционированного доступа и сбоев системы</li></ul><ul id="b378775c-f762-43ef-87c5-52e458c5f3de" class="bulleted-list"><li style="list-style-type:disc">Определение права доступа к файлам</li></ul><ul id="16d1a1b5-ec19-49b4-a572-147811d9f566" class="bulleted-list"><li style="list-style-type:disc">Восстановление информации в случае сбоев</li></ul><p id="2b2079cc-1b30-4f82-94a5-a6a0c50c941d" class="">
</p><h3 id="179be19b-3163-401d-8f4c-3ba283dec1da" class="">Типы файловых систем:</h3><p id="2fe62a3b-37b0-4157-b630-615a154fb933" class=""><mark class="highlight-blue"><strong>file -sL /dev/sda </strong></mark>— узнать тип файловой системы</p><p id="08a0c131-cf64-408c-a487-a6c080e02ca5" class=""><strong>Журналируемые </strong>— сохраняет историю действий пользователя, а также план проверки  системы в специальном файле</p><p id="781c876d-1f40-41d7-a316-3e6841bbb0cb" class=""><strong>Не журналируемые</strong> — не предусматривают хранение логов, поэтому работают быстрее, но не гарантируют сохранность данных</p><p id="b1efb517-ca8a-4056-843b-e356ef4729a6" class="">
</p><h1 id="a39ca071-383c-4c01-9f4b-88c746d37b6b" class="">Работа с файловой системой</h1><ul id="7f962b9b-3830-44cc-9218-4c5191eae592" class="bulleted-list"><li style="list-style-type:disc"><strong><a href="https://www.notion.so/f54cac5793e946a8ba6851db81cbc150?pvs=21">Команды</a></strong></li></ul><ul id="2e8e1fed-f0ac-499e-9804-bbbdc07b5ff8" class="bulleted-list"><li style="list-style-type:disc"><strong><a href="https://www.notion.so/f54cac5793e946a8ba6851db81cbc150?pvs=21">Разделы</a></strong></li></ul><h2 id="76c02393-085d-4d94-8174-bc0a532eb7b7" class="">Команды</h2><ul id="bfaff172-6c0e-41df-8dd9-35612baff4ea" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-blue"><strong>sudo dd if=/dev/zero of=/disk.img count=2000 bs=1M </strong></mark>— создание тестового диска<br/>if - источник, of - место назначение, count - число блоков копирования, bs - размер блока<br/></li></ul><ul id="b7840de1-2441-4bc0-9fd9-e6c40419c14d" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-blue"><strong>sudo mkfs -t ext4 -lL root /disk.img </strong></mark>— создание файловой системы <br/>-t ext4 - указание ФС, -L root - метка, /disk.img - путь к диску<br/></li></ul><ul id="62d57cc1-cb42-42fe-a6c4-c5570efac55e" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-blue"><strong>sudo fsck /disk.img</strong></mark> — проверка правильности создания ФС<br/><br/><strong>Опции </strong><mark class="highlight-blue"><strong>fsck</strong></mark><strong>:</strong><ul id="efa627ee-55b1-4e28-a829-e6ce51c13576" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-blue"><strong>-p</strong></mark> — автоматическое восстановление</li></ul><ul id="553e48ab-3898-49b1-ab35-0d01b89c027b" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-blue"><strong>-n</strong></mark> — проверка, без восставновление</li></ul><ul id="3b966ff4-a9bb-4c97-8bdd-226c1dd765df" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-blue"><strong>-y</strong></mark> — ответить “да” на все запросы программы</li></ul><ul id="25bd31f0-1543-4dbe-bd97-14c4e354a591" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-blue"><strong>-c</strong></mark> — проверить на битые сектора</li></ul><ul id="c7527964-a442-45cc-8298-46b201d6acf5" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-blue"><strong>-f</strong></mark> — принудительная проверка</li></ul><ul id="5bb2933d-9099-4449-9f87-b4979a23c1c3" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-blue"><strong>-j</strong></mark> — внешний журнал ФС</li></ul></li></ul><ul id="5a046e9a-6ff9-494e-bf93-871c5a95904f" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-blue"><strong>sudo e2label /disk.img </strong></mark>— просмотр текущей метки диска<mark class="highlight-blue"><strong><br/>sudo e2label /disk.img root1 <br/></strong></mark>— смена метки диска</li></ul><ul id="845a1c05-b7ca-476c-81a3-9ff27514121f" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-blue"><strong>sudo tune2fs </strong></mark>— настройка различных параметров ФС<br/><br/><strong>Опции </strong><mark class="highlight-blue"><strong>tune2fs</strong></mark><strong>:</strong><ul id="548bbd58-0dd7-41ca-898e-7d8bde038bc4" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-blue"><strong>-j </strong></mark>— создать файл журнала</li></ul><ul id="3e3f1061-d7f1-4cd9-85cd-2e711ec4a9ca" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-blue"><strong>-J </strong></mark>— настроить параметры журнала</li></ul><ul id="10bc9677-2f2b-417d-b2e6-e8d668a2c6d0" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-blue"><strong>-L </strong></mark>— изменить метку раздела</li></ul><ul id="7a75242e-366e-489c-b20d-ed8ba69b0f70" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-blue"><strong>-M </strong></mark>— изменить  последнюю папку монтирования</li></ul><ul id="ddbbba53-c363-4339-80d5-c084bc638645" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-blue"><strong>-U </strong></mark>— задать UUID ФС</li></ul><ul id="ca05299d-adf2-45a5-bea1-fa217bea267a" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-blue"><strong>-C </strong></mark>— изменить значение счетчика монтирования</li></ul><ul id="af686c8b-ab3b-4871-89fd-3a84953b44a9" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-blue"><strong>-T </strong></mark>— изменить последнюю дату проверки ФС</li></ul><ul id="6e77d862-a693-4857-b3be-a6f8f7e8cd87" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-blue"><strong>-c </strong></mark>— изменить периодичность проверок ФС</li></ul><ul id="7a2ecc4f-9c8c-42b3-823c-31e68a45f829" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-blue"><strong>-O </strong></mark>— изменить опции ФС</li></ul></li></ul><ul id="a9029041-13d2-4154-9759-66fd7f11f647" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-blue"><strong>sudo resize2fs /disk.img 2400M</strong></mark>— изменение размера ФС<br/><br/><strong>Опции </strong><mark class="highlight-blue"><strong>resize2fs</strong></mark><strong>:</strong><ul id="2d5b1fa2-d4e8-4efb-a4cb-562012f8ae9b" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-blue"><strong>-M </strong></mark>— уменьшить ФС до минимального размера</li></ul><ul id="f70d8f21-9065-4167-b2c5-9b83d6e794df" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-blue"><strong>-f </strong></mark>— принудительное изменение</li></ul><ul id="d5dd74a3-5316-4381-859d-298da4d9419f" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-blue"><strong>-F </strong></mark>— очистить буфер ФС</li></ul></li></ul><ul id="601e5ae5-4f60-4c79-bba7-1ef2b2f65393" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-blue"><strong>sudo e4defrag /disk.img</strong></mark> — дефрагментация</li></ul><p id="55ca8491-0b88-45dd-9b64-70b81e38b878" class="">
</p><h2 id="fba59016-c7b6-4b52-9b9d-dfc5c30a08cb" class="">Разделы</h2><p id="8cbe307b-92da-4bd8-8261-4785eced48f6" class=""><strong>Раздел </strong>— часть долговременной памяти жёсткого диска или флеш-накопителя, выделенная для удобства работы, и состоящая из смежных блоков. </p><p id="1eb0afde-1b21-4bc5-a242-76fa0f2e1865" class="">
</p><p id="96d0d7b4-c978-4ff3-ae48-450548a202a3" class=""><strong>Преимущества разделов:</strong></p><ul id="37e7a82e-250e-4ab6-9203-ccab9566e733" class="bulleted-list"><li style="list-style-type:disc">на одном физическом жёстком диске можно хранить информацию в разных ФС</li></ul><ul id="5482d238-070a-4db6-b2b8-4fc6cfe282b1" class="bulleted-list"><li style="list-style-type:disc">можно отделить информацию пользователя от файлов ОС</li></ul><ul id="2dbcbe01-8763-438d-b842-9dbcc61cfd3b" class="bulleted-list"><li style="list-style-type:disc">на одном жёстком диске можно установить несколько ОС</li></ul><ul id="7c5f9706-b442-4dec-b838-8ce2d443db9c" class="bulleted-list"><li style="list-style-type:disc">манипуляции с одной ФС не сказываются на других ФС</li></ul><p id="fe4e5c36-664b-4049-8340-d11214db7eaa" class="">
</p><p id="bfc85b5b-c69d-4dfb-9262-33f473fe5afe" class=""><strong>Разделы стандартной разбивки Linux диска:</strong></p><ul id="83020fb4-614d-4939-a109-3befaa6b4ca1" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-blue"><strong>/ </strong></mark>— основной раздел ФС</li></ul><ul id="945c6680-d594-43aa-aa49-8c33b587b376" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-blue"><strong>/boot </strong></mark>— файлы загрузчика</li></ul><ul id="bc0a41e3-89f4-4957-85c6-0abfe478e4c9" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-blue"><strong>/home </strong></mark>— раздел для файлов пользователя</li></ul><ul id="b34c0398-3c05-47fd-a67b-cc28276335ab" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-blue"><strong>/swap </strong></mark>— раздел подкачки, для выгрузки страниц и оперативной памяти</li></ul><p id="58ef801d-5252-4c97-8b40-bbe91281fb79" class="">
</p><h3 id="614c0a8a-ded4-478f-8739-09b4ba2d77c3" class="">Управление разделами</h3><p id="9b4a6fca-25fd-4664-bdff-b2ffe5b08f34" class=""><mark class="highlight-blue"><strong>fdisk </strong></mark>— <span style="border-bottom:0.05em solid">команда</span> для просмотра, создания, удаления, изменения, копирования и перемещения разделов на жестком диске</p><p id="4944dff6-8212-4ac0-84ab-7e4458cb0b89" class="">
</p><p id="a7fe81be-1459-4a31-af46-a7acbcb815de" class=""><strong>Опции </strong><mark class="highlight-blue"><strong>fdisk</strong></mark><strong>:</strong></p><ul id="2246a420-9638-4b63-8bf9-9029c421b79a" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-blue"><strong>a </strong></mark>— сделать диск загрузочным</li></ul><ul id="bc947447-329c-4889-bf57-743933e417a1" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-blue"><strong>d </strong></mark>— удалить раздел</li></ul><ul id="6a47cf80-fb75-4433-936b-f89a0f9b858d" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-blue"><strong>l </strong></mark>— перечислить известные типы разделов</li></ul><ul id="0139f266-6d72-4bb2-93e6-ffc0d8f81f3c" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-blue"><strong>p </strong></mark>— вывести таблицу разделов</li></ul><ul id="3b9c4187-23fb-42f4-8389-7b1d877891c4" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-blue"><strong>q </strong></mark>— выйти без сохранения </li></ul><ul id="84da7ee0-36d3-4bed-9fd2-e1f3b1f9ecc8" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-blue"><strong>v </strong></mark>— проверить таблицу разделов</li></ul><ul id="e12d8a6b-45c8-4489-8d02-12a1addf0b5d" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-blue"><strong>w </strong></mark>— записать таблицу на диск и выйти</li></ul><p id="634ad785-7eb7-4aff-ab5c-1827b1c10007" class="">
</p><h3 id="57103f0c-0f22-400f-96b1-feacb8d7c9e8" class="">Монтирование</h3><p id="62a9a29e-7604-4f3c-8dc5-e98a127ced98" class="">Подключение диска, раздела, каталога или файла в корневую ФС.<br/>Осуществляется с помощью <br/><span style="border-bottom:0.05em solid">команды</span>: <mark class="highlight-blue"><strong>mount [опции] имя_устройства директория</strong></mark></p><p id="8795928c-19fb-4836-86b1-70712cdf5e73" class=""><strong>Опции </strong><mark class="highlight-blue"><strong>mount</strong></mark><strong>:</strong></p><ul id="828f4de9-a64b-4072-9d02-d5f02ccffd13" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-blue"><strong>-a  </strong></mark>— монтируются все требуемые устройства, предварительно прописанные в fstab</li></ul><ul id="f515c7a4-8478-409b-88ac-130fcc1d2e4c" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-blue"><strong>-n  </strong></mark>— исключаются записи о выполняемом монтировании в <mark class="highlight-blue"><strong>/etc/mtab</strong></mark></li></ul><ul id="398c4d09-a12f-4704-8136-263e7d1501a8" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-blue"><strong>-f  </strong></mark>— исключаются осуществления каких-либо действия</li></ul><ul id="18c96fb6-df2e-4396-8cd2-c2a96ad12dc9" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-blue"><strong>-l  </strong></mark>— добавляется специальная метка на диск</li></ul><ul id="0d19ca66-865f-4ac6-91bd-7162e12d935b" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-blue"><strong>-r </strong></mark>— создаваемый раздел будет доступен для чтения</li></ul><ul id="f70c724c-1c6a-4495-baaa-96360b5dc0ac" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-blue"><strong>-w </strong></mark>— создаваемый раздел будет доступен для чтения и записи</li></ul><ul id="cadf5bad-1ccd-403d-ae41-beec18e43fe2" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-blue"><strong>-L </strong></mark>— монтировать раздел с использованием метки</li></ul><ul id="43b90732-84a3-4d2f-a161-9f8ceed9738b" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-blue"><strong>-U </strong></mark>— монтировать раздел с использованием UUID</li></ul><ul id="85994bff-16c4-4e91-9061-ac9bdab9d67a" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-blue"><strong>-B </strong></mark>— монтировать раздел в локальную папку</li></ul><ul id="7aa02c15-5cc7-46dd-9ddd-55a935d7d393" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-blue"><strong>-R </strong></mark>— перемонтировать локальную папку</li></ul><ul id="7ebe78ed-921c-4914-95e5-b44cefbaa88c" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-blue"><strong>-h </strong></mark>— вывести справочную информацию</li></ul><p id="418f83df-c1c7-42a3-8cd3-443c2565e86f" class="">
</p><p id="71425ec5-7b51-4466-948c-9cf3b1b47275" class="">Размонтирование осуществляется <span style="border-bottom:0.05em solid">командой</span>: <mark class="highlight-blue"><strong>umount /mnt</strong></mark></p><p id="49f0d853-26ab-43a2-ae39-8b452f45c306" class="">
</p><p id="51883d6d-e89f-4f86-8c39-00a492610d24" class="">
</p><h1 id="c388dc0c-b7c6-40ed-b68e-0736c59385b0" class="">Практика Файловая система и монтирование</h1><p id="f5c23769-e15b-4757-aa9d-097a7b51a201" class="">
</p><p id="df0576d6-b791-40d9-8ae0-d1ac58a6d34a" class="">Набираем <code>df –h</code> <em>смотрим какие папки на сколько заняты и какие диски.</em></p><figure id="bffb7369-04c6-4523-b0ed-c2501117fe8b" class="image"><a href="https://i.imgur.com/lWITnis.png"><img src="https://i.imgur.com/lWITnis.png"/></a></figure><p id="a9110d1a-643f-4392-bfbc-3f759fa35505" class=""><strong>В настройках VMware добовляем новый диск размер по усмотрению (не принципиально).</strong></p><figure id="1da9b62d-be0e-479a-9323-ddd751ae77aa" class="image"><a href="https://i.imgur.com/kGwbhNs.png"><img src="https://i.imgur.com/kGwbhNs.png"/></a></figure><figure id="58af33ee-e49c-409d-a1e6-afab6e0ee008" class="image"><a href="https://i.imgur.com/77f87xM.png"><img src="https://i.imgur.com/77f87xM.png"/></a></figure><figure id="830aae9f-3bb8-44b4-bb98-b3388109ea94" class="image"><a href="https://i.imgur.com/xLkYiQ7.png"><img src="https://i.imgur.com/xLkYiQ7.png"/></a></figure><figure id="83736592-3ac1-4ba7-b1f1-a26b0dbc18d7" class="image"><a href="https://i.imgur.com/AnhHWKm.png"><img src="https://i.imgur.com/AnhHWKm.png"/></a></figure><figure id="553fca07-158b-4d5c-a028-79190bfd863e" class="image"><a href="https://i.imgur.com/109OyNT.png"><img src="https://i.imgur.com/109OyNT.png"/></a></figure><p id="ce0c5510-81ea-4b16-bc44-85affde06877" class="">Далее перезапускаем операционную систему:</p><p id="1c7c21af-7645-49ac-9bf3-e220454d03fa" class=""><code>sudo reboot</code></p><p id="96a749b1-7bf8-4c06-9d7d-4ddb9627774a" class="">Запускаем утилиту <code>fdisk -l</code></p><figure id="5580f724-8541-404f-876e-7c85f548c0b6" class="image"><a href="https://i.imgur.com/1ZKWNh9.png"><img src="https://i.imgur.com/1ZKWNh9.png"/></a></figure><p id="2f9eba64-5207-413c-ab5c-c6d6330b971b" class="">В результате видим, что linux определил новый диск и назначил ему атрибут sdb<br/>Запускаем утилиту <br/><code>fdisk</code> с указанием нужного нам диска</p><p id="aa8a0d10-cd77-47f4-b34b-e875d784ea62" class=""><code>fdisk /dev/sdb</code></p><figure id="3fe22321-4078-4ebc-b8e5-2f2b89cc484e" class="image"><a href="https://i.imgur.com/AnA0AV7.png"><img src="https://i.imgur.com/AnA0AV7.png"/></a></figure><p id="06d83a46-cb49-4f15-8386-bdf4cf75abbf" class=""><em>для справки нажмём </em><em><code>&quot;m&quot;</code></em></p><figure id="8b8a9f02-61f0-4ab6-86f9-1b9a6a420fc1" class="image"><a href="https://i.imgur.com/1slLdTJ.png"><img src="https://i.imgur.com/1slLdTJ.png"/></a></figure><ul id="1b7383d7-32fc-47e1-9ce8-9fc0de00d96f" class="bulleted-list"><li style="list-style-type:disc">a toggle a bootable flag — сделать диск загрузочным</li></ul><ul id="39d8250d-276b-4edc-ac99-8add196f0af5" class="bulleted-list"><li style="list-style-type:disc">b edit bsd disklabel — редактировать bsd-метку диска</li></ul><ul id="9bb6cb54-82c4-4d72-97ae-d4bdda680ab2" class="bulleted-list"><li style="list-style-type:disc">c toggle the dos compatibility flag — установить флаг совместимости с DOS</li></ul><ul id="eb5f000d-dbf0-455d-8341-4a721f12df60" class="bulleted-list"><li style="list-style-type:disc">d delete a partition — удалить раздел</li></ul><ul id="df0c943f-bb2c-4bda-a1dd-75e1c94a4488" class="bulleted-list"><li style="list-style-type:disc">l list known partition types — перечислить известные типы разделов</li></ul><ul id="687c6d21-1424-4262-9c3b-ba81dcdf5cfe" class="bulleted-list"><li style="list-style-type:disc">m print this menu — вывести это меню</li></ul><ul id="6c7c3ca6-b10e-4230-92b2-6482c9471f67" class="bulleted-list"><li style="list-style-type:disc">n add a new partition — создать новый раздел</li></ul><ul id="8921d8ce-55a5-4c37-8d67-8deecfdfc69d" class="bulleted-list"><li style="list-style-type:disc">o create a new empty DOS partition table — создать новую пустую таблицу разделов DOS</li></ul><ul id="ddb926ee-0aec-4ba1-be24-5ff787892f46" class="bulleted-list"><li style="list-style-type:disc">p print the partition table — вывести таблицу разделов (аналогична fdisk -l)</li></ul><ul id="a091ea23-15a2-4853-999d-5774ff03033d" class="bulleted-list"><li style="list-style-type:disc">q quit without saving changes — выйти без сохранения</li></ul><ul id="e0aa0696-d093-4f74-ac0b-a696f82cf721" class="bulleted-list"><li style="list-style-type:disc">s create a new empty Sun disklabel — создать новую метку диска Sun</li></ul><ul id="fb56e6be-ac2c-4b19-a32a-f23f6b04339a" class="bulleted-list"><li style="list-style-type:disc">t change a partition’s system id — изменить системный идентификатор раздела</li></ul><ul id="20e842a4-7e19-4fc0-9e23-7c3bf2ab0b92" class="bulleted-list"><li style="list-style-type:disc">u change display/entry units — изменить единицы отображения/ввода</li></ul><ul id="496db581-3505-4a23-a0a0-a3ed42c4afa9" class="bulleted-list"><li style="list-style-type:disc">v verify the partition table — проверить таблицу разделов</li></ul><ul id="ffd9b874-6ad2-4641-8ff9-0eb9e8ccaa21" class="bulleted-list"><li style="list-style-type:disc">w write table to disk and exit — записать таблицу на диск и выйти</li></ul><ul id="81cf3509-f3d8-49e4-a3f7-2d456e54f678" class="bulleted-list"><li style="list-style-type:disc">x extra functionality (experts only) — дополнительные функции (только для экспертов)</li></ul><p id="85da6a09-1a98-463e-bce7-1fb6cc983836" class=""><strong>Для того, чтобы создать новый раздел укажем &quot;n&quot;</strong></p><figure id="6d8674d4-5af7-43a6-9f44-8f3847750593" class="image"><a href="https://i.imgur.com/nMVM41U.png"><img src="https://i.imgur.com/nMVM41U.png"/></a></figure><p id="c27e4b8f-fa55-43de-ab28-2d23dc0965e7" class=""><strong>При создании нового раздела нужно выбрать одну из двух опций:</strong></p><ul id="1026fec3-2cc7-4ece-acec-55491c6c8f0e" class="bulleted-list"><li style="list-style-type:disc">extended для логического раздела</li></ul><ul id="5f43fef0-a73f-4e91-84c2-801b14176ea1" class="bulleted-list"><li style="list-style-type:disc">primary для первичного</li></ul><p id="507e49dc-dcab-41da-9eec-b1bc69c56bc7" class="">и нажать, соответственно, e или p. Затем потребуется ввести номера первого и последнего цилиндра раздела (либо смещение в цилиндрах или размер). Лучше всего оставить заданное по умолчанию значение первого цилиндра и ввести нужный размер раздела, например, <code>“+5000M”</code>, что означает размер <code>5000 мегабайт</code>. После создания раздела нужно нажать <code>w</code> для сохранения изменений в таблице разделов.</p><p id="ae8e6947-fd76-468d-a492-ab409d7f804c" class="">Теперь, если введём команды <code>fdisk -l</code> то увидим, следующее:</p><figure id="37111a21-a74f-4007-ab76-4c9b6c67a140" class="image"><a href="https://i.imgur.com/NojoQbH.png"><img src="https://i.imgur.com/NojoQbH.png"/></a></figure><p id="cb770dd8-ea52-432c-b49f-40cb7226c535" class=""><strong>Если необходимо создать несколько разделов из одного диска, то следуем инструкции:</strong></p><figure id="e4a7670c-02e8-4d3b-81be-c23b04b9fe7c" class="image"><a href="https://i.imgur.com/7UrpeLg.png"><img src="https://i.imgur.com/7UrpeLg.png"/></a></figure><figure id="47b73d8a-359c-4870-afe1-9ed0a1f04fd8" class="image"><a href="https://i.imgur.com/3IKRS5M.png"><img src="https://i.imgur.com/3IKRS5M.png"/></a></figure><p id="1c40528f-4037-44b1-9560-9e278ffda62c" class=""><strong>В результате получим следующие:</strong></p><figure id="527a230c-1e5a-4927-80a2-78e6a68ad9df" class="image"><a href="https://i.imgur.com/B6P1ikC.png"><img src="https://i.imgur.com/B6P1ikC.png"/></a></figure><p id="c33d6088-794e-45b0-9a6f-22594c9b6f54" class=""><strong>Форматирование раздела</strong></p><p id="8659e289-8c6f-441c-908f-c3c5be70b330" class=""><em>После создания нового раздела не забудьте отформатировать его командой</em> <code>mkfs</code>. <em>Для этого выполните следующую команду:</em></p><p id="c5e57435-8b8a-4b8a-a525-f8bd47dac788" class=""><code>mkfs -t ext4 /dev/sdb</code></p><p id="671d674e-49ec-4a4a-82e0-6fe5c6722aa8" class="">где в ключе <code>-t</code> указываем тип файловой системы в которую мы хотим отформатировать наш раздел.</p><figure id="32f6fd3c-14b8-46ab-9849-42a40d7f1ff3" class="image"><a href="https://i.imgur.com/3LlxnU8.png"><img src="https://i.imgur.com/3LlxnU8.png"/></a></figure><p id="545a162c-0f30-4e85-ab81-d139d7847787" class=""><strong>Проверка размера раздела</strong></p><p id="240faf60-3ace-4106-87eb-e99c827619f1" class="">Когда раздел отформатирован, проверьте его размер при помощи опции <code>-s</code> (размер отображается в блоках). Так можно узнать размер любого заданного устройства:</p><p id="9faec519-0809-434b-b4ea-837f5af8348f" class=""><code>fdisk -s /dev/sdb</code></p><figure id="71fd6d83-554d-4339-9c66-1d0a2b40b1a7" class="image"><a href="https://i.imgur.com/H8oKU3j.png"><img src="https://i.imgur.com/H8oKU3j.png"/></a></figure><p id="d62ad68f-f942-47ff-a313-338cac0f1914" class=""><strong>Флаг загрузочного раздела</strong></p><p id="128c6113-e1e5-4fd6-a49f-58c59c6cc303" class="">Чтобы включить или отключить на заданном разделе флаг загрузочного раздела (отображается символом <code>‘*’</code> в таблице разделов), нужно выполнить следующие действия.</p><p id="e3ef59f9-bf02-4289-9bf5-d8feffc4e7e6" class=""><code>fdisk /dev/sda</code></p><figure id="6ebae4cd-6835-4c4b-a474-76a37c10fcc3" class="image"><a href="https://i.imgur.com/5ahm4yS.png"><img src="https://i.imgur.com/5ahm4yS.png"/></a></figure><p id="03a3e21c-be2b-4a7a-ab8c-c15207d27d85" class="">Вы увидите на диске <code>/dev/sda1</code> флаг загрузочного раздела (звёздочка <code>‘*’</code>)</p><p id="1f40b254-3e32-469a-8cbb-6460f75dcf4a" class="">Далее введите команду «a» для снятия флага загрузочного раздела, а затем введите номер раздела (в данном случае <code>1</code> для <code>/dev/sda1)</code>. Флаг загрузочного раздела будет снят, символ звёздочки <code>(*)</code> пропадет.</p><figure id="514b5d8d-a923-43bd-aed9-c4b4d3ca94cc" class="image"><a href="https://i.imgur.com/Jz8uqet.png"><img src="https://i.imgur.com/Jz8uqet.png"/></a></figure><p id="0c2d000c-e999-49df-b01c-13cc87005930" class="">Для назначения загрузочного диска нужно также использовать опцию «a». Например назначим загрузочным диск <code>sda2</code>:</p><figure id="ea8f558c-da11-43a8-a071-fa274447b24a" class="image"><a href="https://i.imgur.com/mqnuMoI.png"><img src="https://i.imgur.com/mqnuMoI.png"/></a></figure><p id="752697d1-040c-4bad-ad7f-244f37fd8030" class=""><strong>Удаление раздела</strong></p><p id="18a3c9cf-2639-4b65-bca9-a92a93386623" class="">Допустим, нам нужно удалить определенный раздел, например, <code>/dev/sdb</code>, с определенного жёсткого диска, например, <code>/dev/sdb</code>. Сначала нужно зайти в командный режим:</p><p id="a2624af9-f7f7-4b77-adea-777272c47081" class=""><code>fdisk /dev/sdb</code></p><p id="6920fe16-7341-4ad8-976d-abecc2ee5315" class="">Затем введите <code>d</code> для удаления раздела. После этого у вас будет запрошен номер раздела для удаления с диска <code>/dev/sdb</code>. Для удаления раздела номер <code>2</code> (то есть, <code>/dev/sdb2</code>) нужно ввести соответствующую  цифру, <code>2</code>. Затем нужно ввести команду <code>w</code>, чтобы записать таблицу на диск и выйти.</p><figure id="a7303bfb-fe93-4a08-bf99-b9b4343418e4" class="image"><a href="https://i.imgur.com/J1Q9aSe.png"><img src="https://i.imgur.com/J1Q9aSe.png"/></a></figure><p id="b14c24a5-39cc-4cb2-88ce-ed760906d883" class=""><strong>как видим раздел удалился:</strong></p><figure id="348f0e13-1bd9-45b2-b94d-726938723a8f" class="image"><a href="https://i.imgur.com/SSENOs6.png"><img src="https://i.imgur.com/SSENOs6.png"/></a></figure><h2 id="546ea03c-2996-4d24-b349-61258a7e2539" class="">2. Монтирование дисков и разделов.</h2><p id="07d64e31-c29e-47e2-9fd3-0399c8dc189a" class="">Обычно, монтированием занимаются специальные сервисы оболочки, но не всегда они доступны. А иногда нужно сделать все вручную, чтобы задать дополнительные опции монтирования или другие параметры. Для монтирования в Linux используется команда mount.</p><p id="45df47b6-7092-4a4b-b56b-0721edf90329" class=""><strong>Рассмотрим ее параметры:</strong></p><p id="279e98ea-248e-4b75-8ece-549b7b4a2d29" class=""><code>$ mount файл_устройства папка_назначения</code></p><p id="964140a2-0f18-4666-a697-e7d5b14cc4c0" class=""><strong>Или расширенный вариант:</strong></p><p id="d098f8ec-d95e-4353-8933-736ed612915b" class=""><code>$ mount опции -t файловая_система -o опции_монтирования файл_устройства папка_назначения</code></p><p id="865ab5be-fd79-4e3b-9332-93258a99fdba" class="">Опции задают различные дополнительные особенности работы утилиты. Опция <code>-t</code> необязательна, но она позволяет задать файловую систему, которая будет использована и иногда это очень полезно. С помощью опции <code>-o</code> вы можете задать различные параметры монтирования, например, монтировать только для чтения и т д. Последних два параметра - это файл устройства, например, <code>/dev/sdи1</code> и папка назначения, например, <code>/mnt</code>.</p><p id="3fd0d211-8f40-4625-8f04-d8514e190997" class=""><code>Перед тем как перейти к рассмотрению примеров работы утилитой, давайте рассмотрим ее основные опции:</code></p><ul id="fc74a92d-d055-430b-a625-6d5292fc2bb6" class="bulleted-list"><li style="list-style-type:disc">V - вывести версию утилиты;</li></ul><ul id="63e2dbd0-58be-4cd6-85c1-707b6d80489b" class="bulleted-list"><li style="list-style-type:disc">h - вывести справку;</li></ul><ul id="491eb24a-a194-4d57-a493-a07d576f46b7" class="bulleted-list"><li style="list-style-type:disc">v - подробный режим;</li></ul><ul id="2c01f1fd-94a1-4b71-bb23-8fbacacc8f78" class="bulleted-list"><li style="list-style-type:disc">a, --all - примонтировать все устройства, описанные в fstab;</li></ul><ul id="1d1f31dc-7534-40da-a6f4-d8a322e9700e" class="bulleted-list"><li style="list-style-type:disc">F, --fork - создавать отдельный экземпляр mount для каждого отдельного раздела;</li></ul><ul id="be43afac-68f7-4e67-8db0-e39d70c132bb" class="bulleted-list"><li style="list-style-type:disc">f, --fake - не выполнять никаких действий, а только посмотреть что собирается делать утилита;</li></ul><ul id="44de5c9a-af59-4a5a-9b28-6a411ddf758b" class="bulleted-list"><li style="list-style-type:disc">n, --no-mtab - не записывать данные о монтировании в /etc/mtab;</li></ul><ul id="c5c08904-b063-4183-b483-baf7834009ce" class="bulleted-list"><li style="list-style-type:disc">l, --show-labels - добавить метку диска к точке монтирования;</li></ul><ul id="f8f6a683-b113-4f82-80c7-265c6579846f" class="bulleted-list"><li style="list-style-type:disc">c - использовать только абсолютные пути;</li></ul><ul id="7de262dc-b58b-467d-a7d6-66b629a25bd5" class="bulleted-list"><li style="list-style-type:disc">r, --read-only - монтировать раздел только для чтения;</li></ul><ul id="c71b8819-74a6-41ad-9975-c579c37ac503" class="bulleted-list"><li style="list-style-type:disc">w, --rw - монтировать для чтения и записи;</li></ul><ul id="bd68fe84-0d74-485c-a632-85137b4f54bc" class="bulleted-list"><li style="list-style-type:disc">L, --label - монтировать раздел по метке;</li></ul><ul id="852e1174-6607-4783-a168-bb04f26ec650" class="bulleted-list"><li style="list-style-type:disc">U, --uuid - монтировать раздел по UUID;</li></ul><ul id="edd70020-1bec-4c43-ae3f-f6240133ce12" class="bulleted-list"><li style="list-style-type:disc">T, --fstab - использовать альтернативный fstab;</li></ul><ul id="a17cb996-aaaa-4a34-bb67-76ad2fac0d88" class="bulleted-list"><li style="list-style-type:disc">B, --bind - монтировать локальную папку;</li></ul><ul id="84ad2dbf-07c6-4df7-9fe2-2fb5aa1089b1" class="bulleted-list"><li style="list-style-type:disc">R, --rbind - перемонтировать локальную папку.</li></ul><p id="45b98451-fb15-4eb2-ad8b-69ab76cc2316" class=""><strong>Форматируем вновь созданные разделы:</strong></p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="15592ddb-2df3-4660-87ed-5afd52a536ab" class="code"><code class="language-Plain Text" style="white-space:pre-wrap;word-break:break-all">mkfs -t ext4 /dev/sdb1
mkfs -t ext4 /dev/sdb2
</code></pre><figure id="de3f16e5-4e65-4c8d-849d-3f3e4709af90" class="image"><a href="https://i.imgur.com/G3njmRV.png"><img src="https://i.imgur.com/G3njmRV.png"/></a></figure><p id="f57f7646-9baf-4331-9108-6c8975c9b737" class=""><strong>Создаём две директории /home2 и /home3</strong></p><p id="58f1be8e-54d0-4798-875b-2635e3946e98" class=""><code>mkdir home2 home3</code></p><figure id="36ccb188-6cb6-4fcd-b7d1-c356fd59c293" class="image"><a href="https://i.imgur.com/Jl79TeZ.png"><img src="https://i.imgur.com/Jl79TeZ.png"/></a></figure><p id="fc82a06d-bc86-468f-a52d-0e6c165f8e20" class="">Монтирование разделов с помощью <code>mount</code> выполняется очень просто. Фактически в большинстве случаев будет достаточно упрощенной версии команды. Например, смонтируем раздел <code>/dev/sdb1</code> в папку <code>/home2</code></p><p id="4cc8a47e-6550-4511-897a-388a72dd2400" class=""><strong>Далее sdb1 монтируем штатно:</strong></p><p id="dd82b45c-3721-460e-85ea-80349ee7c4a0" class=""><code>sudo mount /dev/sdb1 /home2</code></p><figure id="2cbefb02-496a-40d7-b436-b91821e207d6" class="image"><a href="https://i.imgur.com/oxNU4Ml.png"><img src="https://i.imgur.com/oxNU4Ml.png"/></a></figure><p id="dcfa7c2a-c47b-44db-8885-3142586f83d0" class=""><strong>Если необходимо примонтировать файловую систему только для чтения, то вы можете использовать опцию -r или опцию монтирования -o ro, результат будет одинаковым</strong>:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1a1716f3-b3aa-4dd6-9696-1ef17a44b932" class="code"><code class="language-Plain Text" style="white-space:pre-wrap;word-break:break-all">sudo mount -r /dev/sdb2 /home3
sudo mount -o ro /dev/sdb2 /home3
</code></pre><figure id="f027365e-4869-4594-b9e0-5fad103e1960" class="image"><a href="https://i.imgur.com/NQYofiN.png"><img src="https://i.imgur.com/NQYofiN.png"/></a></figure><p id="79dee375-af1c-436c-9d06-529543fe4479" class=""><strong>Теперь необходимо сделать так, чтобы после перезагрузки наша работа не пропала и диски не отмотировались, необходимо сделать следующее:</strong></p><p id="c3e111c3-8e5e-442e-ad36-242c03c237dd" class="">запись в файле <code>/etc/fstab</code> для авоматического монтирования во время загрузки.</p><p id="f7756a0a-a705-43c7-8dad-e145995a0c08" class=""><strong>Сначала давайте рассмотрим синтаксис одной строчки fstab:</strong></p><figure id="70eefecb-2570-4ac3-99b0-f241b6ea94da" class="image"><a href="https://i.imgur.com/9UbOVbC.png"><img src="https://i.imgur.com/9UbOVbC.png"/></a></figure><p id="4c880dd8-bb39-4ef2-b855-16aba45ad91b" class=""><strong>Посмотреть uuid для ваших разделов можно с помощью команды:</strong></p><p id="0ed27450-1f16-4106-88e6-04fd8032707c" class=""><code>sudo blkid</code></p><p id="87fcca73-1459-4731-9bf0-0ba3780f8578" class=""><code>[устройство]  [точка_монтирования] [файловая_система] [опции резерв{0,1}] [проверка{0,1,2}]</code></p><p id="5a718874-ac96-40b8-97e9-4ae2f5db7bb2" class=""><strong>Теперь подробнее рассмотрим что означает каждый пункт:</strong></p><ul id="7b0afe64-49af-4f19-84d6-83770978f297" class="bulleted-list"><li style="list-style-type:disc">Устройство - это раздел диска, который вам нужно примонтировать. Его можно указать в формате файла устройства Linux в каталоге /dev/, например, /dev/sda1 или с помощью уникального идентификатора UUID, тогда формат записи будет таким UUID=&quot;XXXX-XXXX-XXXX-XXXX&quot;, также возможна запись с помощью метки, например, LABEL=home;</li></ul><ul id="aff1695b-e018-46d3-bf12-b3d1acb89103" class="bulleted-list"><li style="list-style-type:disc">Файловая система указывает в какой файловой системе нужно монтировать это устройство, например, ext4, ext3, ext2, btrfs;</li></ul><ul id="2a9fdcd2-e809-4172-80de-1d0eccc27bcb" class="bulleted-list"><li style="list-style-type:disc">Точка монтирования - куда нужно примонтировать это устройство, например, /home, /boot, /mnt;</li></ul><ul id="a91d25a1-bdb4-43b3-865d-c5d940d99418" class="bulleted-list"><li style="list-style-type:disc">Опции - параметры монтирования файловой системы, рассмотрим подробнее чуть позже;</li></ul><ul id="98d6cf53-0d61-4596-b3e0-d1c497e62d2e" class="bulleted-list"><li style="list-style-type:disc">Проверка - указывает в какой очереди нужно проверять устройство на ошибки, 1 - в первую очередь, 2 - вторую, 0 - не проверять;</li></ul><ul id="63eb07ed-bbe9-4f98-a8b2-e4db0151386f" class="bulleted-list"><li style="list-style-type:disc">Резерв - указывает нужно ли делать резервную копию раздела, может принимать значения только 0 и 1.</li></ul><p id="0d743484-9d0d-45e9-8ed6-4ef6e2cc6bbc" class=""><em>В основном с этими пунктам все должно быть понятно, интерес вызывают только опции монтирования fstab. Для разных файловых систем они могут немного отличаться, но есть стандартные. И поскольку чаще всего используются файловые системы семейства ext, то мы будем ориентироваться на них.</em></p><p id="e873098e-9eb4-4bd4-b43a-7cec2c848c80" class="">Начнем с общих для всех файловых систем опций:</p><ul id="7728c33d-9e77-402e-b734-12cd572a4fe9" class="bulleted-list"><li style="list-style-type:disc">sync - записывать на диск все изменения сразу после того, как они были выполнены, не использовать кэширование для записываемых данных. Может понадобится для извлечения флешки без размонтирования, но сильно снижает производительность;</li></ul><ul id="44744d15-c762-4800-ba99-6c35c21c2467" class="bulleted-list"><li style="list-style-type:disc">async - использовать кэш при записи данных, увеличивает производительность, используется по умолчанию;</li></ul><ul id="ffb6f160-7b85-414d-987b-96f6602ddee5" class="bulleted-list"><li style="list-style-type:disc">atime - сохранять время последнего доступа к файлу;</li></ul><ul id="6afcbfd3-9cf6-4136-90d4-0e499f282430" class="bulleted-list"><li style="list-style-type:disc">noatime - не сохранять время последнего доступа, полезно для ssd и флешек;</li></ul><ul id="f9338ab5-6b08-4b76-8268-d2b02125508c" class="bulleted-list"><li style="list-style-type:disc">relatime - обновлять время доступа только при изменении файла, необходимо для работы многих программ;</li></ul><ul id="f94474b5-c099-4ce8-86df-5f40159180c6" class="bulleted-list"><li style="list-style-type:disc">norelatime - отключить relatime;</li></ul><ul id="ab203fa9-4eb3-4421-aa14-393934fed616" class="bulleted-list"><li style="list-style-type:disc">strictatime - обновлять время доступа всегда, отключает действие предыдущих опций;</li></ul><ul id="13917d8e-a9bb-4fea-8b5a-1abd2d092cd6" class="bulleted-list"><li style="list-style-type:disc">auto - автоматически монтировать при загрузке, действие по умолчанию;</li></ul><ul id="bd55be62-a070-4a89-ab33-15c8598378b3" class="bulleted-list"><li style="list-style-type:disc">noauto - не монтировать при загрузке;</li></ul><ul id="5650fba7-cd3c-4e0b-8842-829c24f49918" class="bulleted-list"><li style="list-style-type:disc">defaults - использовать опции монтирования fstab по умолчанию - rw,suid,dev,exec,auto,nouser,async;</li></ul><ul id="a580cd9c-295b-49c4-8955-1ceba7ccd27b" class="bulleted-list"><li style="list-style-type:disc">dev - интерпретировать блочные устройства;</li></ul><ul id="5763389a-80e8-4b19-84a3-191675e62ea1" class="bulleted-list"><li style="list-style-type:disc">nodev - не интерпретировать блочные устройства;</li></ul><ul id="6889d04c-5d0c-42b2-b77f-3dd413d4f87b" class="bulleted-list"><li style="list-style-type:disc">diratime - аналогично atime только для каталогов;</li></ul><ul id="0d2471ac-2195-4b76-9d0d-030acfc23d08" class="bulleted-list"><li style="list-style-type:disc">dirnoatime - аналогично noatime, для каталогов;</li></ul><ul id="4f26644c-cd56-45f9-8789-0476047647e1" class="bulleted-list"><li style="list-style-type:disc">exec - разрешить выполнять программы на этом разделе;</li></ul><ul id="cb024841-284e-41bd-b74b-0646af762c0d" class="bulleted-list"><li style="list-style-type:disc">noexec - запретить выполнять программы на этом разделе;</li></ul><ul id="be4236dd-53d4-4032-8c47-2d84b5babfc6" class="bulleted-list"><li style="list-style-type:disc">group - разрешить другим пользователям кроме root монтировать этот раздел, если их группа совпадает с указанной, обычно используется вместе с noauto;</li></ul><ul id="ec26e026-a89f-4bdf-b76c-a0a90e679468" class="bulleted-list"><li style="list-style-type:disc">nofail - не сообщать об ошибках;</li></ul><ul id="50164785-8b3b-443f-8996-596e913d74f3" class="bulleted-list"><li style="list-style-type:disc">mand - разрешить блокирование файловой системы, нужно для некоторых антивирусов;</li></ul><ul id="2e158620-de64-483d-be24-0b6fb2bc287a" class="bulleted-list"><li style="list-style-type:disc">nomand - запретить блокирование файловой системы;</li></ul><ul id="f66e0842-a467-4c20-b755-d63a4f01afef" class="bulleted-list"><li style="list-style-type:disc">suid - разрешить выполнение программ с флагом suid от имени другого пользователя;</li></ul><ul id="251b3b48-db49-43cb-80c6-f40c7c0b6479" class="bulleted-list"><li style="list-style-type:disc">nosuid - игнорировать флаг suid;</li></ul><ul id="0c90d97f-0b6d-42d2-8b08-5b171d29b266" class="bulleted-list"><li style="list-style-type:disc">owner - разрешить указанному пользователю монтировать устройство;</li></ul><ul id="bf94a378-a058-44cf-bb12-a2494c5cfbbb" class="bulleted-list"><li style="list-style-type:disc">ro - монтировать только для чтения;</li></ul><ul id="0d7e0c62-7164-4cf4-a2f0-3ff51c428b56" class="bulleted-list"><li style="list-style-type:disc">rw - монтировать для чтения и записи;</li></ul><ul id="5b10c5a1-236f-46df-aba6-65b3dd9de516" class="bulleted-list"><li style="list-style-type:disc">users - разрешить монтирование любому пользователю;</li></ul><ul id="d0af3f56-d696-4d0d-b4ad-296f71c18faa" class="bulleted-list"><li style="list-style-type:disc">umask - установить права доступа к файлам и папкам на этом разделе;</li></ul><ul id="9e57f004-39e3-466a-abb0-13a946b91ba6" class="bulleted-list"><li style="list-style-type:disc">uid - задает владельца каталога, по умолчанию root;</li></ul><ul id="dad67c3d-75f5-4d02-b3f4-506b537d8a6f" class="bulleted-list"><li style="list-style-type:disc">gid - задает группу владельца каталога.</li></ul><p id="ef8bafb5-770c-48bf-b2f7-8a6fcd688084" class=""><strong>Заходим в файл:</strong></p><p id="f91b6cb7-ad5f-4d82-8933-639303fc2993" class="">sudo nano /etc/fstab</p><p id="3e9bbeba-404d-4213-9520-d102c4c83e88" class=""><strong>и добовляем нужные нам параметры:</strong></p><figure id="f3347c25-943f-40e7-90d1-c54d6a391a54" class="image"><a href="https://i.imgur.com/Bs781Az.png"><img src="https://i.imgur.com/Bs781Az.png"/></a></figure><p id="881d2236-1730-49f4-8f71-242b7ef87282" class="">Сохраняем и выходим <code>Ctrl+O</code>, <code>Ctrl+X</code>.</p><p id="2adec157-0657-460d-84e1-7ebb0cf1239f" class="">Перезапускаем Linux и проверяем, что всё примонтированно:</p><p id="99bf7e7b-2581-491a-9d12-f9ad3ecd3008" class=""><code>df -h</code></p><figure id="54a9e6d0-58fc-4c3f-ae6b-3c7e3fe0d7f6" class="image"><a href="https://i.imgur.com/TerBc4H.png"><img src="https://i.imgur.com/TerBc4H.png"/></a></figure></div></article><span class="sans" style="font-size:14px;padding-top:2em"></span></body></html>