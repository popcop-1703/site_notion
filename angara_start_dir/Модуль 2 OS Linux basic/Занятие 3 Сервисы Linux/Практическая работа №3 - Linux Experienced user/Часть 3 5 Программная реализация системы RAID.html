<html>

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>Часть 3.5 Программная реализация системы RAID</title>
	<style>
		/* cspell:disable-file */
		/* webkit printing magic: print all background colors */
		html {
			-webkit-print-color-adjust: exact;
		}

		* {
			box-sizing: border-box;
			-webkit-print-color-adjust: exact;
		}

		html,
		body {
			margin: 0;
			padding: 0;
		}

		@media only screen {
			body {
				margin: 2em auto;
				max-width: 900px;
				color: rgb(55, 53, 47);
			}
		}

		body {
			line-height: 1.5;
			/* white-space: pre-wrap; */
		}

		a,
		a.visited {
			color: inherit;
			text-decoration: underline;
		}

		.pdf-relative-link-path {
			font-size: 80%;
			color: #444;
		}

		h1,
		h2,
		h3 {
			letter-spacing: -0.01em;
			line-height: 1.2;
			font-weight: 600;
			margin-bottom: 0;
		}

		.page-title {
			font-size: 2.5rem;
			font-weight: 700;
			margin-top: 0;
			margin-bottom: 0.75em;
		}

		h1 {
			font-size: 1.875rem;
			margin-top: 1.875rem;
		}

		h2 {
			font-size: 1.5rem;
			margin-top: 1.5rem;
		}

		h3 {
			font-size: 1.25rem;
			margin-top: 1.25rem;
		}

		.source {
			border: 1px solid #ddd;
			border-radius: 3px;
			padding: 1.5em;
			word-break: break-all;
		}

		.callout {
			border-radius: 3px;
			padding: 1rem;
		}

		figure {
			margin: 1.25em 0;
			page-break-inside: avoid;
		}

		figcaption {
			opacity: 0.5;
			font-size: 85%;
			margin-top: 0.5em;
		}

		mark {
			background-color: transparent;
		}

		.indented {
			padding-left: 1.5em;
		}

		hr {
			background: transparent;
			display: block;
			width: 100%;
			height: 1px;
			visibility: visible;
			border: none;
			border-bottom: 1px solid rgba(55, 53, 47, 0.09);
		}

		img {
			max-width: 100%;
		}

		@media only print {
			img {
				max-height: 100vh;
				object-fit: contain;
			}
		}

		@page {
			margin: 1in;
		}

		.collection-content {
			font-size: 0.875rem;
		}

		.column-list {
			display: flex;
			justify-content: space-between;
		}

		.column {
			padding: 0 1em;
		}

		.column:first-child {
			padding-left: 0;
		}

		.column:last-child {
			padding-right: 0;
		}

		.table_of_contents-item {
			display: block;
			font-size: 0.875rem;
			line-height: 1.3;
			padding: 0.125rem;
		}

		.table_of_contents-indent-1 {
			margin-left: 1.5rem;
		}

		.table_of_contents-indent-2 {
			margin-left: 3rem;
		}

		.table_of_contents-indent-3 {
			margin-left: 4.5rem;
		}

		.table_of_contents-link {
			text-decoration: none;
			opacity: 0.7;
			border-bottom: 1px solid rgba(55, 53, 47, 0.18);
		}

		table,
		th,
		td {
			border: 1px solid rgba(55, 53, 47, 0.09);
			border-collapse: collapse;
		}

		table {
			border-left: none;
			border-right: none;
		}

		th,
		td {
			font-weight: normal;
			padding: 0.25em 0.5em;
			line-height: 1.5;
			min-height: 1.5em;
			text-align: left;
		}

		th {
			color: rgba(55, 53, 47, 0.6);
		}

		ol,
		ul {
			margin: 0;
			margin-block-start: 0.6em;
			margin-block-end: 0.6em;
		}

		li>ol:first-child,
		li>ul:first-child {
			margin-block-start: 0.6em;
		}

		ul>li {
			list-style: disc;
		}

		ul.to-do-list {
			padding-inline-start: 0;
		}

		ul.to-do-list>li {
			list-style: none;
		}

		.to-do-children-checked {
			text-decoration: line-through;
			opacity: 0.375;
		}

		ul.toggle>li {
			list-style: none;
		}

		ul {
			padding-inline-start: 1.7em;
		}

		ul>li {
			padding-left: 0.1em;
		}

		ol {
			padding-inline-start: 1.6em;
		}

		ol>li {
			padding-left: 0.2em;
		}

		.mono ol {
			padding-inline-start: 2em;
		}

		.mono ol>li {
			text-indent: -0.4em;
		}

		.toggle {
			padding-inline-start: 0em;
			list-style-type: none;
		}

		/* Indent toggle children */
		.toggle>li>details {
			padding-left: 1.7em;
		}

		.toggle>li>details>summary {
			margin-left: -1.1em;
		}

		.selected-value {
			display: inline-block;
			padding: 0 0.5em;
			background: rgba(206, 205, 202, 0.5);
			border-radius: 3px;
			margin-right: 0.5em;
			margin-top: 0.3em;
			margin-bottom: 0.3em;
			white-space: nowrap;
		}

		.collection-title {
			display: inline-block;
			margin-right: 1em;
		}

		.page-description {
			margin-bottom: 2em;
		}

		.simple-table {
			margin-top: 1em;
			font-size: 0.875rem;
			empty-cells: show;
		}

		.simple-table td {
			height: 29px;
			min-width: 120px;
		}

		.simple-table th {
			height: 29px;
			min-width: 120px;
		}

		.simple-table-header-color {
			background: rgb(247, 246, 243);
			color: black;
		}

		.simple-table-header {
			font-weight: 500;
		}

		time {
			opacity: 0.5;
		}

		.icon {
			display: inline-block;
			max-width: 1.2em;
			max-height: 1.2em;
			text-decoration: none;
			vertical-align: text-bottom;
			margin-right: 0.5em;
		}

		img.icon {
			border-radius: 3px;
		}

		.user-icon {
			width: 1.5em;
			height: 1.5em;
			border-radius: 100%;
			margin-right: 0.5rem;
		}

		.user-icon-inner {
			font-size: 0.8em;
		}

		.text-icon {
			border: 1px solid #000;
			text-align: center;
		}

		.page-cover-image {
			display: block;
			object-fit: cover;
			width: 100%;
			max-height: 30vh;
		}

		.page-header-icon {
			font-size: 3rem;
			margin-bottom: 1rem;
		}

		.page-header-icon-with-cover {
			margin-top: -0.72em;
			margin-left: 0.07em;
		}

		.page-header-icon img {
			border-radius: 3px;
		}

		.link-to-page {
			margin: 1em 0;
			padding: 0;
			border: none;
			font-weight: 500;
		}

		p>.user {
			opacity: 0.5;
		}

		td>.user,
		td>time {
			white-space: nowrap;
		}

		input[type="checkbox"] {
			transform: scale(1.5);
			margin-right: 0.6em;
			vertical-align: middle;
		}

		p {
			margin-top: 0.5em;
			margin-bottom: 0.5em;
		}

		.image {
			border: none;
			margin: 1.5em 0;
			padding: 0;
			border-radius: 0;
			text-align: center;
		}

		.code,
		code {
			background: rgba(135, 131, 120, 0.15);
			border-radius: 3px;
			padding: 0.2em 0.4em;
			border-radius: 3px;
			font-size: 85%;
			tab-size: 2;
		}

		code {
			color: #eb5757;
		}

		.code {
			padding: 1.5em 1em;
		}

		.code-wrap {
			white-space: pre-wrap;
			word-break: break-all;
		}

		.code>code {
			background: none;
			padding: 0;
			font-size: 100%;
			color: inherit;
		}

		blockquote {
			font-size: 1.25em;
			margin: 1em 0;
			padding-left: 1em;
			border-left: 3px solid rgb(55, 53, 47);
		}

		.bookmark {
			text-decoration: none;
			max-height: 8em;
			padding: 0;
			display: flex;
			width: 100%;
			align-items: stretch;
		}

		.bookmark-title {
			font-size: 0.85em;
			overflow: hidden;
			text-overflow: ellipsis;
			height: 1.75em;
			white-space: nowrap;
		}

		.bookmark-text {
			display: flex;
			flex-direction: column;
		}

		.bookmark-info {
			flex: 4 1 180px;
			padding: 12px 14px 14px;
			display: flex;
			flex-direction: column;
			justify-content: space-between;
		}

		.bookmark-image {
			width: 33%;
			flex: 1 1 180px;
			display: block;
			position: relative;
			object-fit: cover;
			border-radius: 1px;
		}

		.bookmark-description {
			color: rgba(55, 53, 47, 0.6);
			font-size: 0.75em;
			overflow: hidden;
			max-height: 4.5em;
			word-break: break-word;
		}

		.bookmark-href {
			font-size: 0.75em;
			margin-top: 0.25em;
		}

		.sans {
			font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol";
		}

		.code {
			font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace;
		}

		.serif {
			font-family: Lyon-Text, Georgia, ui-serif, serif;
		}

		.mono {
			font-family: iawriter-mono, Nitti, Menlo, Courier, monospace;
		}

		.pdf .sans {
			font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP';
		}

		.pdf:lang(zh-CN) .sans {
			font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC';
		}

		.pdf:lang(zh-TW) .sans {
			font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC';
		}

		.pdf:lang(ko-KR) .sans {
			font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR';
		}

		.pdf .code {
			font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP';
		}

		.pdf:lang(zh-CN) .code {
			font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC';
		}

		.pdf:lang(zh-TW) .code {
			font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC';
		}

		.pdf:lang(ko-KR) .code {
			font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR';
		}

		.pdf .serif {
			font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP';
		}

		.pdf:lang(zh-CN) .serif {
			font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC';
		}

		.pdf:lang(zh-TW) .serif {
			font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC';
		}

		.pdf:lang(ko-KR) .serif {
			font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR';
		}

		.pdf .mono {
			font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP';
		}

		.pdf:lang(zh-CN) .mono {
			font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC';
		}

		.pdf:lang(zh-TW) .mono {
			font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC';
		}

		.pdf:lang(ko-KR) .mono {
			font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR';
		}

		.highlight-default {
			color: rgba(55, 53, 47, 1);
		}

		.highlight-gray {
			color: rgba(120, 119, 116, 1);
			fill: rgba(120, 119, 116, 1);
		}

		.highlight-brown {
			color: rgba(159, 107, 83, 1);
			fill: rgba(159, 107, 83, 1);
		}

		.highlight-orange {
			color: rgba(217, 115, 13, 1);
			fill: rgba(217, 115, 13, 1);
		}

		.highlight-yellow {
			color: rgba(203, 145, 47, 1);
			fill: rgba(203, 145, 47, 1);
		}

		.highlight-teal {
			color: rgba(68, 131, 97, 1);
			fill: rgba(68, 131, 97, 1);
		}

		.highlight-blue {
			color: rgba(51, 126, 169, 1);
			fill: rgba(51, 126, 169, 1);
		}

		.highlight-purple {
			color: rgba(144, 101, 176, 1);
			fill: rgba(144, 101, 176, 1);
		}

		.highlight-pink {
			color: rgba(193, 76, 138, 1);
			fill: rgba(193, 76, 138, 1);
		}

		.highlight-red {
			color: rgba(212, 76, 71, 1);
			fill: rgba(212, 76, 71, 1);
		}

		.highlight-default_background {
			color: rgba(55, 53, 47, 1);
		}

		.highlight-gray_background {
			background: rgba(241, 241, 239, 1);
		}

		.highlight-brown_background {
			background: rgba(244, 238, 238, 1);
		}

		.highlight-orange_background {
			background: rgba(251, 236, 221, 1);
		}

		.highlight-yellow_background {
			background: rgba(251, 243, 219, 1);
		}

		.highlight-teal_background {
			background: rgba(237, 243, 236, 1);
		}

		.highlight-blue_background {
			background: rgba(231, 243, 248, 1);
		}

		.highlight-purple_background {
			background: rgba(244, 240, 247, 0.8);
		}

		.highlight-pink_background {
			background: rgba(249, 238, 243, 0.8);
		}

		.highlight-red_background {
			background: rgba(253, 235, 236, 1);
		}

		.block-color-default {
			color: inherit;
			fill: inherit;
		}

		.block-color-gray {
			color: rgba(120, 119, 116, 1);
			fill: rgba(120, 119, 116, 1);
		}

		.block-color-brown {
			color: rgba(159, 107, 83, 1);
			fill: rgba(159, 107, 83, 1);
		}

		.block-color-orange {
			color: rgba(217, 115, 13, 1);
			fill: rgba(217, 115, 13, 1);
		}

		.block-color-yellow {
			color: rgba(203, 145, 47, 1);
			fill: rgba(203, 145, 47, 1);
		}

		.block-color-teal {
			color: rgba(68, 131, 97, 1);
			fill: rgba(68, 131, 97, 1);
		}

		.block-color-blue {
			color: rgba(51, 126, 169, 1);
			fill: rgba(51, 126, 169, 1);
		}

		.block-color-purple {
			color: rgba(144, 101, 176, 1);
			fill: rgba(144, 101, 176, 1);
		}

		.block-color-pink {
			color: rgba(193, 76, 138, 1);
			fill: rgba(193, 76, 138, 1);
		}

		.block-color-red {
			color: rgba(212, 76, 71, 1);
			fill: rgba(212, 76, 71, 1);
		}

		.block-color-default_background {
			color: inherit;
			fill: inherit;
		}

		.block-color-gray_background {
			background: rgba(241, 241, 239, 1);
		}

		.block-color-brown_background {
			background: rgba(244, 238, 238, 1);
		}

		.block-color-orange_background {
			background: rgba(251, 236, 221, 1);
		}

		.block-color-yellow_background {
			background: rgba(251, 243, 219, 1);
		}

		.block-color-teal_background {
			background: rgba(237, 243, 236, 1);
		}

		.block-color-blue_background {
			background: rgba(231, 243, 248, 1);
		}

		.block-color-purple_background {
			background: rgba(244, 240, 247, 0.8);
		}

		.block-color-pink_background {
			background: rgba(249, 238, 243, 0.8);
		}

		.block-color-red_background {
			background: rgba(253, 235, 236, 1);
		}

		.select-value-color-uiBlue {
			background-color: rgba(35, 131, 226, .07);
		}

		.select-value-color-pink {
			background-color: rgba(245, 224, 233, 1);
		}

		.select-value-color-purple {
			background-color: rgba(232, 222, 238, 1);
		}

		.select-value-color-green {
			background-color: rgba(219, 237, 219, 1);
		}

		.select-value-color-gray {
			background-color: rgba(227, 226, 224, 1);
		}

		.select-value-color-transparentGray {
			background-color: rgba(227, 226, 224, 0);
		}

		.select-value-color-translucentGray {
			background-color: rgba(0, 0, 0, 0.06);
		}

		.select-value-color-orange {
			background-color: rgba(250, 222, 201, 1);
		}

		.select-value-color-brown {
			background-color: rgba(238, 224, 218, 1);
		}

		.select-value-color-red {
			background-color: rgba(255, 226, 221, 1);
		}

		.select-value-color-yellow {
			background-color: rgba(253, 236, 200, 1);
		}

		.select-value-color-blue {
			background-color: rgba(211, 229, 239, 1);
		}

		.select-value-color-pageGlass {
			background-color: undefined;
		}

		.select-value-color-washGlass {
			background-color: undefined;
		}

		.checkbox {
			display: inline-flex;
			vertical-align: text-bottom;
			width: 16;
			height: 16;
			background-size: 16px;
			margin-left: 2px;
			margin-right: 5px;
		}

		.checkbox-on {
			background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
		}

		.checkbox-off {
			background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
		}
	</style>
</head>

<body>
	<article id="131aa64c-9d0a-81e0-a5b8-e8b12904b28b" class="page sans">
		<header><img class="page-cover-image"
				src="https://4.bp.blogspot.com/-D8Kv7-nmc7k/UumJ8j05fTI/AAAAAAAAAPY/CE-rZ76UKQQ/s1600/IMG_1159_RAID.JPG"
				style="object-position:center 74.52%" />
			<div class="page-header-icon page-header-icon-with-cover"><img class="icon"
					src="https://www.notion.so/icons/database_green.svg" /></div>
			<h1 class="page-title"><strong>Часть 3.5 Программная реализация системы RAID</strong></h1>
			<p class="page-description"></p>
		</header>
		<div class="page-body">
			<details open="">
				<summary style="font-weight:600;font-size:1.25em;line-height:1.3;margin:0">План работы</summary>
				<div class="indented">
					<nav id="131aa64c-9d0a-814b-a5fe-fb55d5d4d135" class="block-color-gray table_of_contents">
						<div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link"
								href="#131aa64c-9d0a-8180-813c-e5ee274fde1a">План работы</a></div>
						<div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link"
								href="#131aa64c-9d0a-8113-a827-d80bb8a37a0e"><strong>Цель работы:</strong></a></div>
						<div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link"
								href="#131aa64c-9d0a-81a7-b12f-c9d54e0637e5"><strong>Задача:</strong></a></div>
						<div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link"
								href="#131aa64c-9d0a-8112-9998-e7dfcc7c1373"><strong>Отчёт:</strong></a></div>
						<div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link"
								href="#131aa64c-9d0a-815e-902c-d6d496a01f17"><strong>1. Перейдем к рассмотрению основных
									типов RAID-массивов.</strong></a></div>
						<div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link"
								href="#131aa64c-9d0a-813c-b69c-e4a4ab6681cd"><strong>1.1 Уровни системы
									RAID</strong></a></div>
						<div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link"
								href="#131aa64c-9d0a-8139-9488-fead6cefeb2c"><strong>RAID 1</strong></a></div>
						<div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link"
								href="#131aa64c-9d0a-8146-8f1d-c19d4b419585"><strong>RAID 0</strong></a></div>
						<div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link"
								href="#131aa64c-9d0a-8110-bfa0-fb0b906e8551"><strong>RAID 5</strong></a></div>
						<div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link"
								href="#131aa64c-9d0a-81de-b549-e9d57b425409"><strong>RAID 2, 3, 4</strong></a></div>
						<div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link"
								href="#131aa64c-9d0a-8138-926d-d924c8b79fed"><strong>RAID 10</strong></a></div>
						<div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link"
								href="#131aa64c-9d0a-814e-a5ed-d93c5f2710a8"><strong>RAID 50</strong></a></div>
						<div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link"
								href="#131aa64c-9d0a-814c-8895-f7ebf6548091"><strong>1.2 Особенности</strong></a></div>
						<div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link"
								href="#131aa64c-9d0a-81b1-a677-d3a73db889c0"><strong>1.3
									Команда </strong><code><strong>mdadm</strong></code><strong>: программное
									обеспечение RAID в системе Linux</strong></a></div>
						<div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link"
								href="#131aa64c-9d0a-8169-b732-f569f46ac75d"><strong>2. Создание массива RAID
									5</strong></a></div>
						<div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link"
								href="#131aa64c-9d0a-817f-9256-f455e99f828e"><strong>2.1 mdadm.соnf: документирование
									конфигурации массива</strong></a></div>
						<div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link"
								href="#131aa64c-9d0a-8197-bc2a-d4ffbf231fa6"><strong>3. Создание RAID 1</strong></a>
						</div>
						<div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link"
								href="#131aa64c-9d0a-81ac-bd8b-cd5ba18d8561"><strong>3.1 Создание файла mdadm.conf
									(возможно, что он уже есть)</strong></a></div>
						<div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link"
								href="#131aa64c-9d0a-815b-8692-f9895af316fe"><strong>3.2 Создание файловой системы и
									монтирование массива</strong></a></div>
						<div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link"
								href="#131aa64c-9d0a-81d1-bbd1-c4bf3c750fed"><strong>3.3 Информация о RAID</strong></a>
						</div>
						<div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link"
								href="#131aa64c-9d0a-8169-bbb0-e14d9047ccb1"><strong>3.4 Проверка целостности
									массивов</strong></a></div>
						<div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link"
								href="#131aa64c-9d0a-8113-848a-fdc58619215d"><strong>3.5 Восстановление
									RAID</strong></a></div>
						<div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link"
								href="#131aa64c-9d0a-81f7-8411-c78977e09507"><strong>Замена диска</strong></a></div>
						<div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link"
								href="#131aa64c-9d0a-8121-a9ea-cc96b73a49b1"><strong>3.6 Пересборка массива</strong></a>
						</div>
						<div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link"
								href="#131aa64c-9d0a-8178-bb24-dfad646ff97a"><strong>3.7 Запасной диск (Hot
									Spare)</strong></a></div>
						<div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link"
								href="#131aa64c-9d0a-81a9-ae22-d51b42f071c0"><strong>3.8 Добавить диск к
									массиву</strong></a></div>
						<div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link"
								href="#131aa64c-9d0a-81e4-b169-f208d6f76424"><strong>4. Практические советы</strong></a>
						</div>
					</nav>
					<p id="131aa64c-9d0a-81e9-96b4-e0a6815515d7" class="">
					</p>
				</div>
			</details>
			<h3 id="131aa64c-9d0a-8113-a827-d80bb8a37a0e" class=""><strong>Цель работы:</strong></h3>
			<ul id="131aa64c-9d0a-8148-8fd1-f7ea39c8f9d5" class="bulleted-list">
				<li style="list-style-type:disc">Разобраться, что такое RAID.</li>
			</ul>
			<h3 id="131aa64c-9d0a-81a7-b12f-c9d54e0637e5" class=""><strong>Задача:</strong></h3>
			<ul id="131aa64c-9d0a-81ab-81d0-c31f9bae8de3" class="bulleted-list">
				<li style="list-style-type:disc">Научиться конфигурировать RAID с нуля;</li>
			</ul>
			<ul id="131aa64c-9d0a-815a-954b-ccc88f632783" class="bulleted-list">
				<li style="list-style-type:disc">Научиться проверять правильность созданной конфигурации и целостность
					RAID;</li>
			</ul>
			<ul id="131aa64c-9d0a-81e2-b7c7-f57db68f5e96" class="bulleted-list">
				<li style="list-style-type:disc">Организовать на своём компьютере RAID 1 и RAID 5.</li>
			</ul>
			<h3 id="131aa64c-9d0a-8112-9998-e7dfcc7c1373" class=""><strong>Отчёт:</strong></h3>
			<ul id="131aa64c-9d0a-8198-8cda-ce2444ba5898" class="bulleted-list">
				<li style="list-style-type:disc">Сконфигурировать RAID на своём компьютере;</li>
			</ul>
			<ul id="131aa64c-9d0a-81e7-8fce-d6e88eccc8c4" class="bulleted-list">
				<li style="list-style-type:disc">Проверить целостность созданного RAID;</li>
			</ul>
			<ul id="131aa64c-9d0a-815f-99e2-cb555bd1892e" class="bulleted-list">
				<li style="list-style-type:disc">Добавить третий жесткий диск в RAID 1 как горячая замена;</li>
			</ul>
			<ul id="131aa64c-9d0a-81a6-8f69-d713cd5bd383" class="bulleted-list">
				<li style="list-style-type:disc">Вывести принудительно один жесткий диск из RAID 1;</li>
			</ul>
			<ul id="131aa64c-9d0a-81f6-8205-c28c71e94075" class="bulleted-list">
				<li style="list-style-type:disc">Предоставить отчёт со скриншотами.</li>
			</ul>
			<p id="131aa64c-9d0a-8183-a672-dd3290d04b46" class="">
			</p>
			<p id="131aa64c-9d0a-813a-b557-f1704ed4b933" class="">В системах хранения данных критически важны
				сохранность и время восстановления в случае сбоя. Свою ценность, а в некоторых задачах и более высокую,
				имеет скорость работы накопителей. Использование RAID-массивов в различных конфигурациях — это поиск
				компромисса между перечисленными параметрами.</p>
			<figure class="block-color-teal_background callout" style=" display:flex"
				id="131aa64c-9d0a-81c7-a87c-f5bfecac3da8">
				<div style="font-size:1.5em"><span class="icon">💡</span></div>
				<div style="width:100%"><strong>RAID</strong> — это технология объединения двух и более накопителей в
					единый логический элемент с целью повышения производительности и (или) отказоустойчивости отдельно
					взятого элемента массива.</div>
			</figure>
			<p id="131aa64c-9d0a-81c5-96e7-f298bc6fe9b6" class=""><strong>Аппаратные и программные RAID-массивы</strong>
			</p>
			<ul id="131aa64c-9d0a-8101-8263-f63708120a2f" class="bulleted-list">
				<li style="list-style-type:disc">Программные массивы создаются уже после установки Операционной Системы
					средствами программных продуктов и утилит, что и является главным недостатком таких дисковых
					массивов.</li>
			</ul>
			<ul id="131aa64c-9d0a-81dd-893e-c4a40ef394c9" class="bulleted-list">
				<li style="list-style-type:disc">Аппаратные RAID’ы создают дисковый массив до установки Операционной
					системы и от неё не зависят.</li>
			</ul>
			<p id="131aa64c-9d0a-8142-897c-c1b160dd9029" class=""><strong>Далее мы рассмотрим именно программную
					реализацию RAID системы.</strong></p>
			<h1 id="131aa64c-9d0a-815e-902c-d6d496a01f17" class=""><strong>1. Перейдем к рассмотрению основных типов
					RAID-массивов.</strong></h1>
			<h2 id="131aa64c-9d0a-813c-b69c-e4a4ab6681cd" class=""><strong>1.1 Уровни системы RAID</strong></h2>
			<p id="131aa64c-9d0a-816c-ad30-d76579a08bf7" class="">Система RAID традиционно описывается в терминах
				“уровней”, определяющих конкретные детали параллелизма и избыточности. Возможно, этот термин является
				неудачным, потому что более высокий уровень не обязательно оказывается лучшим . Уровни — это просто
				разные конфигурации; вы можете использовать любой из них .</p>
			<h3 id="131aa64c-9d0a-8139-9488-fead6cefeb2c" class=""><strong>RAID 1</strong></h3>
			<figure class="block-color-gray_background callout" style=" display:flex"
				id="131aa64c-9d0a-8191-b22c-c1ea041ddb76">
				<div style="font-size:1.5em"><span class="icon">💡</span></div>
				<div style="width:100%"><strong>RAID 1 (также называют «Mirror» — Зеркало)</strong> предполагает полное
					дублирование данных с одного физического диска на другой.</div>
			</figure>
			<p id="131aa64c-9d0a-81ca-a9d7-d04f912e60e8" class="">К недостаткам RAID 1 можно отнести то, что вы
				получаете в два раза меньше дискового пространства. Т.е. ели вы используете ДВА диска по 250 Гб, то
				система будет видеть всего ОДИН размером 250 Гб.</p>
			<p id="131aa64c-9d0a-8114-a75a-fa978575de9e" class="">Данный вид RAID <strong>не дает выигрыша в скорости,
					но значительно повышает уровень отказоустойчивости</strong>, ведь если один диск выйдет из строя,
				всегда есть его полная копия. Запись и стирание с дисков происходит одновременно. Если информация была
				намеренно удалена, то возможности восстановить её с другого диска уже не будет.</p>
			<figure id="131aa64c-9d0a-815a-b890-c56af4e39e3b" class="image"><a
					href="https://i.imgur.com/634RXgy.png"><img style="width:480px"
						src="https://i.imgur.com/634RXgy.png" /></a></figure>
			<h3 id="131aa64c-9d0a-8146-8f1d-c19d4b419585" class=""><strong>RAID 0</strong></h3>
			<figure class="block-color-gray_background callout" style=" display:flex"
				id="131aa64c-9d0a-8181-9dee-eeb0af07e3f1">
				<div style="font-size:1.5em"><span class="icon">💡</span></div>
				<div style="width:100%"><strong>RAID 0 (также называют «Striping» — Чередование)</strong> предполагает
					разделение информации на блоки и одновременная запись разных блоков на разные диски.</div>
			</figure>
			<p id="131aa64c-9d0a-818d-bf74-d2561bad05e4" class="">Такая технология <em><strong>повышает скорость
						чтения/записи</strong></em>, позволяет пользователю использовать полный суммарный объем дисков,
				однако <em><strong>понижает отказоустойчивость</strong></em>, вернее сводит её на ноль. Так, в случае
				выхода из строя одного из дисков, восстановить информацию будет практически невозможно. Для сборки RAID
				0 рекомендуется использовать исключительно высоконадежные диски.</p>
			<figure id="131aa64c-9d0a-8177-b10b-c76d60f3efc8" class="image"><a
					href="https://i.imgur.com/sRhmNAi.png"><img style="width:480px"
						src="https://i.imgur.com/sRhmNAi.png" /></a></figure>
			<h3 id="131aa64c-9d0a-8110-bfa0-fb0b906e8551" class=""><strong>RAID 5</strong></h3>
			<p id="131aa64c-9d0a-8159-ac80-f3b36656fc67" class=""><strong>RAID 5 можно назвать более усовершенствованным
					RAID 0</strong>. Можно использовать от 3 жестких дисков. На все, кроме одного записывается рейд 0, а
				на последний специальная контрольная сумма, что позволяет сохранить информацию на винчестерах в случае
				«смерти» одного из них (но не более одного). Скорость работы такого массива высокая. На <a
					href="https://integrus.ru/otkazoustojchivost/rezervnoe-kopirovanie.html">восстановление
					информации</a> в случае замены диска потребуется много времени.</p>
			<figure id="131aa64c-9d0a-811a-91a7-c7490dbde446" class="image"><a
					href="https://i.imgur.com/Qr17qlJ.png"><img style="width:480px"
						src="https://i.imgur.com/Qr17qlJ.png" /></a></figure>
			<h3 id="131aa64c-9d0a-81de-b549-e9d57b425409" class=""><strong>RAID 2, 3, 4</strong></h3>
			<p id="131aa64c-9d0a-8188-b410-c7b3b635c68b" class=""><strong>Это способы распределенного хранения
					информации с использованием дисков, выделенных под коды четности</strong>. Отличаются друг от друга
				только размерами блока. На практике практически не используются в связи с необходимостью отдавать
				большую долю дисковой емкости под хранение кодов ЕСС и/или четности, а также в связи с невысокой
				производительностью.</p>
			<h3 id="131aa64c-9d0a-8138-926d-d924c8b79fed" class=""><strong>RAID 10</strong></h3>
			<figure class="block-color-gray_background callout" style=" display:flex"
				id="131aa64c-9d0a-815f-81cc-f2ba390b2929">
				<div style="font-size:1.5em"><span class="icon">💡</span></div>
				<div style="width:100%"><strong>Является миксом RAID массивов 1 и 0.</strong> И объединяет в себе плюсы
					от каждого:  высокая производительность и высокая отказоустойчивость.</div>
			</figure>
			<figure id="131aa64c-9d0a-813c-be3e-ec68f5a4fb07" class="image"><a
					href="https://i.imgur.com/M5bqRTE.png"><img style="width:528px"
						src="https://i.imgur.com/M5bqRTE.png" /></a></figure>
			<p id="131aa64c-9d0a-81de-9472-f02f3d42f1ac" class="">Массив обязательно содержит четное количество дисков
				(минимум 4) и является самым надежным вариантом сохранения информации. Недостатком является высокая
				стоимость дискового массива: эффективная емкость составит половину от общей емкости дискового
				пространства.</p>
			<h3 id="131aa64c-9d0a-814e-a5ed-d93c5f2710a8" class=""><strong>RAID 50</strong></h3>
			<p id="131aa64c-9d0a-818c-9ab3-cb99ae033ecc" class=""><strong>Является миксом RAID массивов 5 и 0</strong>.
				Строится RAID 5, но его составляющими будут не самостоятельные жесткие диски, а массивы RAID 0.</p>
			<figure id="131aa64c-9d0a-81a2-b023-efc4dc4abad1" class="image"><a
					href="https://i.imgur.com/JEB1Dpk.png"><img style="width:528px"
						src="https://i.imgur.com/JEB1Dpk.png" /></a></figure>
			<h2 id="131aa64c-9d0a-814c-8895-f7ebf6548091" class=""><strong>1.2 Особенности</strong></h2>
			<p id="131aa64c-9d0a-81ff-bf94-d06ec5c0a258" class="">В случае, когда происходит поломка РЕЙД-контроллера,
				восстановить информацию практически невозможно (не относится к «Зеркалу»). Даже если купить точно такой
				же контроллер, высока вероятность, что RAID будет собран из других секторов диска, а значит информация
				на дисках будет потеряна.</p>
			<h2 id="131aa64c-9d0a-81b1-a677-d3a73db889c0" class=""><strong>1.3
					Команда </strong><code><strong>mdadm</strong></code><strong>: программное обеспечение RAID в системе
					Linux</strong></h2>
			<p id="131aa64c-9d0a-8117-8b63-cda085f1e85b" class="">Стандартная реализация программного обеспечения RAID
				для системы Linux называется md, драйвер “нескольких дисков” (“multiple disks” driver). Его внешний
				интерфейс обеспечивает команда <code>mdadm</code>.</p>
			<p id="131aa64c-9d0a-8114-8c96-cd35d63d13dd" class="">Драйвер md поддерживает все конфигурации RAID,
				перечисленные выше. Предыдущая система под названием <code>raidtools</code> больше не используется .</p>
			<p id="131aa64c-9d0a-81f6-ae49-fa5bd0f7dd21" class="">Вы также можете реализовать RAID в системе Linux с
				помощью диспетчера логических томов (LVМ2), или Btrfs, или другой файловой системы со встроенными
				функциями управления томами и поддержки RAID.</p>
			<p id="131aa64c-9d0a-81d0-9e00-eb3134e1ea6c" class="">Все эти системы активно поддерживаются, поэтому
				выбирайте в зависимости от того, что вы предпочитаете. Сайтам без установленной базы лучше всего перейти
				непосредственно на систему “все-в-одном”, например Btrfs.</p>
			<h1 id="131aa64c-9d0a-8169-b732-f569f46ac75d" class=""><strong>2. Создание массива RAID 5</strong></h1>
			<p id="131aa64c-9d0a-8102-9de3-c07319bceb30" class="">В следующем сценарии выполняется конфигурация массива
				RAID 5, состоящего из трех идентичных жестких дисков объемом 1 Тбайт. Несмотря на то что драйвер md
				может использовать в качестве компонентов неформатированные диски , мы предпочитаем снабдить каждый диск
				таблицей разделов, поэтому начинаем с запуска утилиты gparted, создающей таблицу разделов GРТ на каждом
				диске , и выделения всего дискового пространства одному разделу типа “Linux RAID”.</p>
			<p id="131aa64c-9d0a-8129-a732-ea84c2269dcd" class="">Совершенно не обязательно задавать тип раздела, но это
				будет полезной информацией для тех, кто станет просматривать таблицу разделов позднее:</p>
			<p id="131aa64c-9d0a-812d-83c9-e8b7ccaa38d4" class="">Первое, что делаем - это вводим
				команду <code>fdisk -l</code> и смотрим какие диски не заняты.</p>
			<figure id="131aa64c-9d0a-819b-bf19-c121546ed332" class="image"><a
					href="https://i.imgur.com/RZQi0kD.png"><img style="width:624px"
						src="https://i.imgur.com/RZQi0kD.png" /></a></figure>
			<p id="131aa64c-9d0a-817d-886c-efcdcb68326f" class=""><strong>Далее пишем команду по созданию RAID
					5:</strong></p>
			<figure id="131aa64c-9d0a-81dd-b9ec-d3f71e157d51" class="image"><a
					href="https://i.imgur.com/7B5Jf3f.png"><img style="width:624px"
						src="https://i.imgur.com/7B5Jf3f.png" /></a></figure>
			<ul id="131aa64c-9d0a-81a5-a8e0-f29e8bbf533e" class="bulleted-list">
				<li style="list-style-type:disc"><code>/dev/md5</code> — устройство RAID, которое появится после сборки;
				</li>
			</ul>
			<ul id="131aa64c-9d0a-81e0-96b3-c2f921b14401" class="bulleted-list">
				<li style="list-style-type:disc"><code>level 5</code> — уровень RAID;</li>
			</ul>
			<ul id="131aa64c-9d0a-8199-8ede-fbc098e8effd" class="bulleted-list">
				<li style="list-style-type:disc"><code>-raid-devices=3</code> — количество дисков, из которых собирается
					массив;</li>
			</ul>
			<ul id="131aa64c-9d0a-81b7-b456-d026215a2369" class="bulleted-list">
				<li style="list-style-type:disc"><code>/dev/sde, /dev/sdg, /dev/sdf</code> — сборка выполняется из
					дисков sde, sdg и sdf.</li>
			</ul>
			<p id="131aa64c-9d0a-816e-a4f3-c7260708e899" class="">Виртуальный файл <code>/proc/mdstat</code> всегда
				содержит краткое описание состояния драйвера md, а также состояния всех массивов RAID, существующих в
				системе. Особенно полезно проанализировать содержимое файла <code>/proc/mdstat</code> после добавления
				нового диска или замены неисправного. <strong>Для этой цели рекомендуется использовать
					команду</strong> <code>cat /proc/mdstat</code></p>
			<figure id="131aa64c-9d0a-81e3-b294-c6824d1b9524" class="image"><a
					href="https://i.imgur.com/gu4FLaz.png"><img src="https://i.imgur.com/gu4FLaz.png" /></a></figure>
			<p id="131aa64c-9d0a-81fd-9a58-ed45401f2abf" class=""><em>Драйвер md не следит за тем, какой блок в массиве
					был использован, поэтому он должен вручную синхронизировать все блоки четности с их соответствующими
					блоками данных. Драйвер md запускает операцию “восстановления” (“recovery”) данных, потому что, по
					существу, она совпадает с той процедурой, которая выполняется после замены неисправного диска. Для
					больших массивов она может выполняться довольно длительное время (несколько часов, или даже
					дней).</em></p>
			<p id="131aa64c-9d0a-81eb-ae52-e7cb729b45c9" class="">Обратите внимание на то, что при выполнении
				команды <code>mdadm -create</code> указывается путь к устройству для составного массива. Пути
				md-устройств старого стиля выглядели как <code>/dev/md0</code>, но когда вы указываете путь в
				каталоге <code>/dev/md</code>, как это было сделано в данном примере, mdadm записывает выбранное имя в
				суперблок массива.</p>
			<p id="131aa64c-9d0a-8139-bda9-e25a954b6cf0" class=""><strong>Далее необходимо создать файловую систему на
					raid5 и примонтировать его к директории:</strong></p>
			<figure id="131aa64c-9d0a-81f4-b782-cb38e3304ee4" class="image"><a
					href="https://i.imgur.com/dw41I9h.png"><img style="width:528px"
						src="https://i.imgur.com/dw41I9h.png" /></a></figure>
			<hr id="131aa64c-9d0a-8110-b2f0-e85f48ecf9a4" />
			<figure id="131aa64c-9d0a-81ce-905d-e4d520a83d68" class="image"><a
					href="https://i.imgur.com/xGO2kHd.png"><img style="width:528px"
						src="https://i.imgur.com/xGO2kHd.png" /></a></figure>
			<hr id="131aa64c-9d0a-816d-8756-c4149e91a994" />
			<figure id="131aa64c-9d0a-8172-9853-cd3d6a9fdf17" class="image"><a
					href="https://i.imgur.com/VhzBiIm.png"><img style="width:528px"
						src="https://i.imgur.com/VhzBiIm.png" /></a></figure>
			<hr id="131aa64c-9d0a-81e6-b56e-f4fd0f32e56f" />
			<figure id="131aa64c-9d0a-8196-822c-f02dd97914f8" class="image"><a
					href="https://i.imgur.com/2O114TT.png"><img style="width:528px"
						src="https://i.imgur.com/2O114TT.png" /></a></figure>
			<p id="131aa64c-9d0a-81c9-9a94-e0ef3d2234ad" class=""><strong>далее добавляем данные в /etc/fstab:</strong>
			</p>
			<figure id="131aa64c-9d0a-812e-8364-e089b9efeff2" class="image"><a
					href="https://i.imgur.com/IUkVW0i.png"><img style="width:528px"
						src="https://i.imgur.com/IUkVW0i.png" /></a></figure>
			<p id="131aa64c-9d0a-811a-98fe-e49299c8c822" class="">Эта мера гарантирует, что вы всегда можете найти
				массив по логическому пути, даже если после перезагрузки массив активизирован автоматически и ему может
				быть присвоен другой номер. Как видно из записей журнала, приведенных выше, массив также имеет
				традиционное имя (здесь, <strong>/dev/md5</strong>), а <code>/dev/md/extra</code> - это просто
				символическая ссылка на реальное устройство массива.</p>
			<h2 id="131aa64c-9d0a-817f-9256-f455e99f828e" class=""><strong>2.1 mdadm.соnf: документирование конфигурации
					массива</strong></h2>
			<p id="131aa64c-9d0a-8147-b677-c9de41266c73" class="">Формально, команда mdadm не требует наличия файла
				конфигурации, но если он есть, она его использует (как правило, это
				файл <code>/etc/mdadm/mdadm.conf</code> или <code>/etc/mdadm.conf</code>). В результате вы создадите в
				стандартном месте документацию по конфигурации системы RAID, позволяя администратору просмотреть
				информацию при возникновении проблемы.</p>
			<p id="131aa64c-9d0a-81e2-a383-d8272c5fd095" class="">В качестве альтернативы использованию файла
				конфигурации можно задавать конфигурацию в командной строке при каждой активизации массива.
				Команда <code>mdadm --detail --scan</code> записывает текущие настройки системы RAID в файл
				конфигурации <code>mdadm.conf</code></p>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"
				integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg=="
				crossorigin="anonymous" referrerPolicy="no-referrer"></script>
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
				integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ=="
				crossorigin="anonymous" referrerPolicy="no-referrer" />
			<pre id="131aa64c-9d0a-8191-b1b3-f7d146a8b8e6" class="code"><code class="language-Bash" style=" word-break:break-all">sudo mdadm --detail --scan

	ARRAY /dev/md/extra metadata= 1.2 name=ubuntu
	: extra UUID=b72de2fb : 60b30Заf : Зс176048 : dс5Ьбс8Ь</code></pre>
			<p id="131aa64c-9d0a-818e-91b5-fc9d17698e26" class="">Теперь команда mdadm сможет прочитать файл mdadm.conf
				при загрузке или завершении работы системы, что намного упростит управление массивом.</p>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"
				integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg=="
				crossorigin="anonymous" referrerPolicy="no-referrer"></script>
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
				integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ=="
				crossorigin="anonymous" referrerPolicy="no-referrer" />
			<pre id="131aa64c-9d0a-812f-8b7d-ca72a10e5c2c"
				class="code"><code class="language-Bash" style=" word-break:break-all">sudo mdadm -S /dev/md/extra</code></pre>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"
				integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg=="
				crossorigin="anonymous" referrerPolicy="no-referrer"></script>
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
				integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ=="
				crossorigin="anonymous" referrerPolicy="no-referrer" />
			<pre id="131aa64c-9d0a-81f6-816b-e797d8a86a8c"
				class="code"><code class="language-Bash" style=" word-break:break-all">sudo mdadm -Ав /dev/md/extra</code></pre>
			<p id="131aa64c-9d0a-8111-a0bc-cf4160f227e5" class="">Первая из приведенных выше команд сработает, даже если
				файла mdadm.conf не существует, а вторая - нет</p>
			<p id="131aa64c-9d0a-8159-ae74-d9426ede8d8c" class="">Команда mdadm имеет режим <code>--monitor</code>, в
				котором она выполняется постоянно как демон и сообщает по электронной почте о проблемах, возникших в
				массиве RAID.</p>
			<p id="131aa64c-9d0a-81e1-8c9b-ed8611438225" class=""><em><strong>Для того чтобы ее настроить, добавьте
						строку МAILADDR в свой файл mdadm.conf.</strong></em> Конфигурация MAILADDR указывает адресата,
				которому следует отправлять предупреждения по электронной почте</p>
			<h1 id="131aa64c-9d0a-8197-bc2a-d4ffbf231fa6" class=""><strong>3. Создание RAID 1</strong></h1>
			<p id="131aa64c-9d0a-81b2-b2e6-cb61851ecea2" class="">Если работаем на виртуалке, то создаём несколько
				дисков в настройках платформы виртуализации.</p>
			<p id="131aa64c-9d0a-81b1-975e-e8a300ece8d8" class=""><strong>С помощью команды fdisk -l смотрим какие диски
					есть в системе:</strong></p>
			<figure id="131aa64c-9d0a-8143-9dcd-ed22f5c159af" class="image"><a
					href="https://i.imgur.com/NdPwB1H.png"><img style="width:576px"
						src="https://i.imgur.com/NdPwB1H.png" /></a></figure>
			<p id="131aa64c-9d0a-8177-8b67-c412185a8e21" class="">тут видим, что есть два жестких диска по 1 Gb, их мы и
				будем вводить в массив RAID 1</p>
			<p id="131aa64c-9d0a-8132-acb6-c467fef89af9" class=""><strong>вводим команду:</strong></p>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"
				integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg=="
				crossorigin="anonymous" referrerPolicy="no-referrer"></script>
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
				integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ=="
				crossorigin="anonymous" referrerPolicy="no-referrer" />
			<pre id="131aa64c-9d0a-81b0-919b-d1d1c64a5435"
				class="code"><code class="language-Bash">mdadm --create --verbose /dev/md0 -l 1 -n 2 /dev/sdb /dev/sdc</code></pre>
			<p id="131aa64c-9d0a-8147-8913-ea58c58db7c7" class="">подтверждаем создание массива и
				ставим <code>&quot;y&quot;</code></p>
			<figure id="131aa64c-9d0a-811c-b06c-f0a51d63bc86" class="image"><a
					href="https://i.imgur.com/7sxG0Nl.png"><img style="width:576px"
						src="https://i.imgur.com/7sxG0Nl.png" /></a></figure>
			<p id="131aa64c-9d0a-812e-8d21-e719cfddb42d" class=""><strong>где:</strong></p>
			<ul id="131aa64c-9d0a-815b-b371-de74d965a297" class="bulleted-list">
				<li style="list-style-type:disc"><code>/dev/md0</code> — устройство RAID, которое появится после сборки;
				</li>
			</ul>
			<ul id="131aa64c-9d0a-81a2-aa37-d6b9ffb42316" class="bulleted-list">
				<li style="list-style-type:disc"><code>l 1</code> — уровень RAID;</li>
			</ul>
			<ul id="131aa64c-9d0a-8194-82d7-e180ce2f9a17" class="bulleted-list">
				<li style="list-style-type:disc"><code>n 2</code> — количество дисков, из которых собирается массив;
				</li>
			</ul>
			<ul id="131aa64c-9d0a-8141-abe2-e1de97b53bbe" class="bulleted-list">
				<li style="list-style-type:disc"><code>/dev/sd{b,c}</code> — сборка выполняется из дисков sdb и sdc.
				</li>
			</ul>
			<p id="131aa64c-9d0a-8196-86aa-d595014184c8" class=""><strong>Далее с помощью утилиты lsblk
					проверяем:</strong></p>
			<figure id="131aa64c-9d0a-81b9-bf41-cbae72c7dafc" class="image"><a
					href="https://i.imgur.com/uhRim3E.png"><img style="width:576px"
						src="https://i.imgur.com/uhRim3E.png" /></a></figure>
			<h2 id="131aa64c-9d0a-81ac-bd8b-cd5ba18d8561" class=""><strong>3.1 Создание файла mdadm.conf (возможно, что
					он уже есть)</strong></h2>
			<p id="131aa64c-9d0a-8125-b6ae-cc73d5bbda62" class=""><strong>В файле mdadm.conf находится информация о
					RAID-массивах и компонентах, которые в них входят. Для его создания выполняем следующие
					команды:</strong></p>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"
				integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg=="
				crossorigin="anonymous" referrerPolicy="no-referrer"></script>
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
				integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ=="
				crossorigin="anonymous" referrerPolicy="no-referrer" />
			<pre id="131aa64c-9d0a-8127-a057-f90104ce769b"
				class="code"><code class="language-Bash">mkdir /etc/mdadm</code></pre>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"
				integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg=="
				crossorigin="anonymous" referrerPolicy="no-referrer"></script>
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
				integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ=="
				crossorigin="anonymous" referrerPolicy="no-referrer" />
			<pre id="131aa64c-9d0a-8110-af76-c19b02e44850"
				class="code"><code class="language-Bash">echo &quot;DEVICE partitions&quot; &gt; /etc/mdadm/mdadm.conf</code></pre>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"
				integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg=="
				crossorigin="anonymous" referrerPolicy="no-referrer"></script>
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
				integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ=="
				crossorigin="anonymous" referrerPolicy="no-referrer" />
			<pre id="131aa64c-9d0a-81bc-89dd-cc5d6a232fab"
				class="code"><code class="language-Bash">mdadm --detail --scan --verbose | awk &#x27;/ARRAY/ {print}&#x27; &gt;&gt; /etc/mdadm/mdadm.conf</code></pre>
			<p id="131aa64c-9d0a-8196-86cd-f46ee216612d" class=""><strong>Пример содержимого:</strong></p>
			<figure id="131aa64c-9d0a-8126-9e97-ee2982a9a33d" class="image"><a
					href="https://i.imgur.com/LRq1vL3.png"><img style="width:576px"
						src="https://i.imgur.com/LRq1vL3.png" /></a></figure>
			<p id="131aa64c-9d0a-81b3-87bd-ef6aba4371a4" class=""><em>в данном примере хранится информация о массиве
					/dev/md0 — его уровень 1, он собирается из 2-х дисков.</em></p>
			<h2 id="131aa64c-9d0a-815b-8692-f9895af316fe" class=""><strong>3.2 Создание файловой системы и монтирование
					массива</strong></h2>
			<p id="131aa64c-9d0a-8170-81ee-da79fe79f0ce" class=""><strong>Создание файловой системы для массива
					выполняется также, как для раздела:</strong></p>
			<p id="131aa64c-9d0a-819b-bf5c-f97179cb9dbc" class=""><strong>mkfs.ext4 /dev/md0</strong></p>
			<figure id="131aa64c-9d0a-8188-abd2-db718d9aeaae" class="image"><a
					href="https://i.imgur.com/INadKqY.png"><img style="width:576px"
						src="https://i.imgur.com/INadKqY.png" /></a></figure>
			<p id="131aa64c-9d0a-8105-8bd9-f0efbd675a20" class=""><em>данной командой мы создаем на md0 файловую систему
					ext4.</em></p>
			<p id="131aa64c-9d0a-81dc-8f87-ff3a59a7166f" class=""><strong>Примонтировать раздел можно командой:</strong>
			</p>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"
				integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg=="
				crossorigin="anonymous" referrerPolicy="no-referrer"></script>
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
				integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ=="
				crossorigin="anonymous" referrerPolicy="no-referrer" />
			<pre id="131aa64c-9d0a-81a6-9b06-ebeb94d9289e"
				class="code"><code class="language-Bash">mount /dev/md0 /home/raid1</code></pre>
			<p id="131aa64c-9d0a-8194-8af9-f8df756bf783" class=""><em>в данном случае мы примонтировали наш массив в
					каталог /home/raid1.</em></p>
			<p id="131aa64c-9d0a-8139-ade3-d1f1f0cec959" class=""><strong>Чтобы данный раздел также монтировался при
					загрузке системы, добавляем в fstab следующее:</strong></p>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"
				integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg=="
				crossorigin="anonymous" referrerPolicy="no-referrer"></script>
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
				integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ=="
				crossorigin="anonymous" referrerPolicy="no-referrer" />
			<pre id="131aa64c-9d0a-815b-9459-ee3cedf4003b"
				class="code"><code class="language-Bash">vi /etc/fstab</code></pre>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"
				integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg=="
				crossorigin="anonymous" referrerPolicy="no-referrer"></script>
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
				integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ=="
				crossorigin="anonymous" referrerPolicy="no-referrer" />
			<pre id="131aa64c-9d0a-81fb-bfff-e27817a6686b"
				class="code"><code class="language-Bash">/dev/md0 /mnt ext4 defaults 1 2</code></pre>
			<p id="131aa64c-9d0a-8105-a456-e5e26d58047b" class=""><strong>Проверяем с помощью утилиты df -h:</strong>
			</p>
			<figure id="131aa64c-9d0a-8111-a785-c73dfbf556f0" class="image"><a
					href="https://i.imgur.com/JYRB7Sk.png"><img style="width:576px"
						src="https://i.imgur.com/JYRB7Sk.png" /></a></figure>
			<h2 id="131aa64c-9d0a-81d1-bbd1-c4bf3c750fed" class=""><strong>3.3 Информация о RAID</strong></h2>
			<p id="131aa64c-9d0a-81cf-b23c-efd4f6ead359" class=""><strong>Посмотреть состояние всех RAID можно
					командой:</strong></p>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"
				integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg=="
				crossorigin="anonymous" referrerPolicy="no-referrer"></script>
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
				integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ=="
				crossorigin="anonymous" referrerPolicy="no-referrer" />
			<pre id="131aa64c-9d0a-81da-9828-c64c2e94c4e7"
				class="code"><code class="language-Bash">cat /proc/mdstat</code></pre>
			<p id="131aa64c-9d0a-81d7-a57c-ca2efacc9ceb" class=""><em>В ответ мы получим что-то на подобие:</em></p>
			<figure id="131aa64c-9d0a-8143-b61a-d260e90a0c62" class="image"><a
					href="https://i.imgur.com/7LOYvUg.png"><img style="width:576px"
						src="https://i.imgur.com/7LOYvUg.png" /></a></figure>
			<p id="131aa64c-9d0a-817b-9b96-dcf850b59fab" class=""><strong>где:</strong></p>
			<ul id="131aa64c-9d0a-81eb-b7d0-cecd8757df4e" class="bulleted-list">
				<li style="list-style-type:disc">md0 — имя RAID устройства;</li>
			</ul>
			<ul id="131aa64c-9d0a-815b-8bb2-fa4f795ad1e2" class="bulleted-list">
				<li style="list-style-type:disc">raid1 sdc[1] sdb[0] — уровень избыточности и из каких дисков собран;
				</li>
			</ul>
			<ul id="131aa64c-9d0a-81da-97b4-f14b8c4118ed" class="bulleted-list">
				<li style="list-style-type:disc">1046528 blocks — размер массива;</li>
			</ul>
			<ul id="131aa64c-9d0a-8197-bfaa-f35f3d47dda4" class="bulleted-list">
				<li style="list-style-type:disc">[2/2] [UU] — количество юнитов, которые на данный момент используются.
				</li>
			</ul>
			<p id="131aa64c-9d0a-81c2-82b1-dbe43dd6cc7d" class=""><strong>мы можем увидеть строку md0 :
					active(auto-read-only) — это означает, что после монтирования массива, он не использовался для
					записи.</strong></p>
			<p id="131aa64c-9d0a-81a4-a915-db9bde1a7fda" class=""><strong>Подробную информацию о конкретном массиве
					можно посмотреть командой:</strong></p>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"
				integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg=="
				crossorigin="anonymous" referrerPolicy="no-referrer"></script>
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
				integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ=="
				crossorigin="anonymous" referrerPolicy="no-referrer" />
			<pre id="131aa64c-9d0a-81c7-bd98-cc9ab40666ca"
				class="code"><code class="language-Bash">mdadm -D /dev/md0</code></pre>
			<ul id="131aa64c-9d0a-8151-a168-e57940c5ab25" class="bulleted-list">
				<li style="list-style-type:disc">где /dev/md0 — имя RAID устройства.</li>
			</ul>
			<figure id="131aa64c-9d0a-8194-be65-fcb8fac1b464" class="image"><a
					href="https://i.imgur.com/KNZUg2G.png"><img style="width:576px"
						src="https://i.imgur.com/KNZUg2G.png" /></a></figure>
			<p id="131aa64c-9d0a-8182-87db-d7080d0da98a" class=""><strong>где:</strong></p>
			<ul id="131aa64c-9d0a-817e-9ae1-df6d66283414" class="bulleted-list">
				<li style="list-style-type:disc">Version — версия метаданных.</li>
			</ul>
			<ul id="131aa64c-9d0a-81e6-b1c5-c5a88f755d1b" class="bulleted-list">
				<li style="list-style-type:disc">Creation Time — дата в время создания массива.</li>
			</ul>
			<ul id="131aa64c-9d0a-8126-b2a5-fa8a302a4322" class="bulleted-list">
				<li style="list-style-type:disc">Raid Level — уровень RAID.</li>
			</ul>
			<ul id="131aa64c-9d0a-816b-bd9c-d0306d8302f2" class="bulleted-list">
				<li style="list-style-type:disc">Array Size — объем дискового пространства для RAID.</li>
			</ul>
			<ul id="131aa64c-9d0a-813c-890e-e6f83838f6b7" class="bulleted-list">
				<li style="list-style-type:disc">Used Dev Size — используемый объем для устройств. Для каждого уровня
					будет индивидуальный расчет: RAID1 — равен половине общего размера дисков, RAID5 — равен размеру,
					используемому для контроля четности.</li>
			</ul>
			<ul id="131aa64c-9d0a-8153-aee9-f29e45e28f19" class="bulleted-list">
				<li style="list-style-type:disc">Raid Devices — количество используемых устройств для RAID.</li>
			</ul>
			<ul id="131aa64c-9d0a-81c9-bdc6-de3eb218b597" class="bulleted-list">
				<li style="list-style-type:disc">Total Devices — количество добавленных в RAID устройств.</li>
			</ul>
			<ul id="131aa64c-9d0a-811e-8606-fce6b55b44e9" class="bulleted-list">
				<li style="list-style-type:disc">Update Time — дата и время последнего изменения массива.</li>
			</ul>
			<ul id="131aa64c-9d0a-81f1-bd3e-f7ac60d7342d" class="bulleted-list">
				<li style="list-style-type:disc">State — текущее состояние. clean — все в порядке.</li>
			</ul>
			<ul id="131aa64c-9d0a-8168-bfd7-fd5a66d65cd2" class="bulleted-list">
				<li style="list-style-type:disc">Active Devices — количество работающих в массиве устройств.</li>
			</ul>
			<ul id="131aa64c-9d0a-8146-9fa2-e4561200cee7" class="bulleted-list">
				<li style="list-style-type:disc">Working Devices — количество добавленных в массив устройств в рабочем
					состоянии.</li>
			</ul>
			<ul id="131aa64c-9d0a-816d-bc76-ff0be94799e3" class="bulleted-list">
				<li style="list-style-type:disc">Failed Devices — количество сбойных устройств.</li>
			</ul>
			<ul id="131aa64c-9d0a-811f-9994-e3e7c293c454" class="bulleted-list">
				<li style="list-style-type:disc">Spare Devices — количество запасных устройств.</li>
			</ul>
			<ul id="131aa64c-9d0a-8129-8a69-c0e823464983" class="bulleted-list">
				<li style="list-style-type:disc">Consistency Policy — политика согласованности активного массива (при
					неожиданном сбое). По умолчанию используется resync — полная ресинхронизация после восстановления.
					Также могут быть bitmap, journal, ppl.</li>
			</ul>
			<ul id="131aa64c-9d0a-8140-8714-e8dba8af7cbf" class="bulleted-list">
				<li style="list-style-type:disc">Name — имя компьютера.</li>
			</ul>
			<ul id="131aa64c-9d0a-8162-b689-e3a70ce1e22c" class="bulleted-list">
				<li style="list-style-type:disc">UUID — идентификатор для массива.</li>
			</ul>
			<ul id="131aa64c-9d0a-81d4-8a09-d05030ffffae" class="bulleted-list">
				<li style="list-style-type:disc">Events — количество событий обновления.</li>
			</ul>
			<ul id="131aa64c-9d0a-81ab-bc3a-db154c300ce7" class="bulleted-list">
				<li style="list-style-type:disc">Chunk Size (для RAID5) — размер блока в килобайтах, который пишется на
					разные диски.</li>
			</ul>
			<p id="131aa64c-9d0a-8183-bf38-c401cf025cab" class=""><strong>Также, информацию о разделах и дисковом
					пространстве массива можно посмотреть командой fdisk:</strong></p>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"
				integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg=="
				crossorigin="anonymous" referrerPolicy="no-referrer"></script>
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
				integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ=="
				crossorigin="anonymous" referrerPolicy="no-referrer" />
			<pre id="131aa64c-9d0a-81a1-98e1-c2af87072d87"
				class="code"><code class="language-Bash">fdisk -l /dev/md0</code></pre>
			<figure id="131aa64c-9d0a-81e7-bf1e-efa06793eeb8" class="image"><a
					href="https://i.imgur.com/Xbbspmh.png"><img style="width:576px"
						src="https://i.imgur.com/Xbbspmh.png" /></a></figure>
			<h2 id="131aa64c-9d0a-8169-bbb0-e14d9047ccb1" class=""><strong>3.4 Проверка целостности массивов</strong>
			</h2>
			<p id="131aa64c-9d0a-81d3-bfbf-c1695157923e" class=""><strong>Для проверки целостности вводим:</strong></p>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"
				integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg=="
				crossorigin="anonymous" referrerPolicy="no-referrer"></script>
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
				integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ=="
				crossorigin="anonymous" referrerPolicy="no-referrer" />
			<pre id="131aa64c-9d0a-81c9-af42-ed6d257890b2"
				class="code"><code class="language-Bash">echo &#x27;check&#x27; &gt; /sys/block/md0/md/sync_action</code></pre>
			<p id="131aa64c-9d0a-813e-a4ad-df49c01c7146" class=""><strong>Результат проверки смотрим командой:</strong>
			</p>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"
				integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg=="
				crossorigin="anonymous" referrerPolicy="no-referrer"></script>
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
				integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ=="
				crossorigin="anonymous" referrerPolicy="no-referrer" />
			<pre id="131aa64c-9d0a-8133-8015-fd334790ae25"
				class="code"><code class="language-Bash">cat /sys/block/md0/md/mismatch_cnt</code></pre>
			<ul id="131aa64c-9d0a-816e-b636-cb451ea6b807" class="bulleted-list">
				<li style="list-style-type:disc">если команда возвращает 0, то с массивом все в порядке.</li>
			</ul>
			<figure id="131aa64c-9d0a-81fb-bec4-ffe57870fc21" class="image"><a
					href="https://i.imgur.com/t4hhnnA.png"><img style="width:528px"
						src="https://i.imgur.com/t4hhnnA.png" /></a></figure>
			<p id="131aa64c-9d0a-81c7-a8e7-c5192a2653f5" class=""><strong>Остановка проверки:</strong></p>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"
				integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg=="
				crossorigin="anonymous" referrerPolicy="no-referrer"></script>
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
				integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ=="
				crossorigin="anonymous" referrerPolicy="no-referrer" />
			<pre id="131aa64c-9d0a-8106-86ba-fb9c6ad63509"
				class="code"><code class="language-Bash">echo &#x27;idle&#x27; &gt; /sys/block/md0/md/sync_action</code></pre>
			<h2 id="131aa64c-9d0a-8113-848a-fdc58619215d" class=""><strong>3.5 Восстановление RAID</strong></h2>
			<p id="131aa64c-9d0a-81f4-87f1-f41794d6a99d" class=""><strong>Рассмотрим два варианта восстановлении
					массива.</strong></p>
			<h3 id="131aa64c-9d0a-81f7-8411-c78977e09507" class=""><strong>Замена диска</strong></h3>
			<p id="131aa64c-9d0a-81bf-9882-e33cf219ea3c" class=""><strong>В случае выхода из строя одного из дисков
					массива, команда cat /proc/mdstat покажет следующее:</strong></p>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"
				integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg=="
				crossorigin="anonymous" referrerPolicy="no-referrer"></script>
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
				integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ=="
				crossorigin="anonymous" referrerPolicy="no-referrer" />
			<pre id="131aa64c-9d0a-813a-b4d1-edb86f0db229"
				class="code"><code class="language-Bash">cat /proc/mdstat</code></pre>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"
				integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg=="
				crossorigin="anonymous" referrerPolicy="no-referrer"></script>
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
				integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ=="
				crossorigin="anonymous" referrerPolicy="no-referrer" />
			<pre id="131aa64c-9d0a-8166-b75f-ffa8154507fa" class="code"><code class="language-Plain Text" style=" word-break:break-all">Personalities : [raid1]
md0 : active raid1 sdb[0]
      1046528 blocks super 1.2 [2/1] [U_]
</code></pre>
			<ul id="131aa64c-9d0a-8133-8fe2-deecd6e7fb6a" class="bulleted-list">
				<li style="list-style-type:disc">о наличии проблемы нам говорит нижнее подчеркивание вместо U — [U_]
					вместо [UU].</li>
			</ul>
			<p id="131aa64c-9d0a-8124-b457-fd4978f03e56" class="">Или:</p>
			<ul id="131aa64c-9d0a-81e3-b613-c6c662dfcf95" class="bulleted-list">
				<li style="list-style-type:disc">mdadm -D /dev/md0</li>
			</ul>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"
				integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg=="
				crossorigin="anonymous" referrerPolicy="no-referrer"></script>
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
				integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ=="
				crossorigin="anonymous" referrerPolicy="no-referrer" />
			<pre id="131aa64c-9d0a-813f-a2e4-df41aed54b61" class="code"><code class="language-Plain Text" style=" word-break:break-all">...
       Update Time : Thu Mar  7 20:20:40 2019
             State : clean, degraded
...
</code></pre>
			<p id="131aa64c-9d0a-815b-b087-c2e799f2510a" class=""><strong>статус degraded говорит о проблемах с
					RAID.</strong></p>
			<p id="131aa64c-9d0a-817e-a09f-c88c466b8cf3" class=""><strong>Для восстановления, сначала удалим сбойный
					диск, например:</strong></p>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"
				integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg=="
				crossorigin="anonymous" referrerPolicy="no-referrer"></script>
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
				integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ=="
				crossorigin="anonymous" referrerPolicy="no-referrer" />
			<pre id="131aa64c-9d0a-8125-a5da-e15a01946ac0"
				class="code"><code class="language-Bash">mdadm /dev/md0 --remove /dev/sdc</code></pre>
			<p id="131aa64c-9d0a-8110-9459-fe1744417de9" class=""><strong>Теперь добавим новый:</strong></p>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"
				integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg=="
				crossorigin="anonymous" referrerPolicy="no-referrer"></script>
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
				integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ=="
				crossorigin="anonymous" referrerPolicy="no-referrer" />
			<pre id="131aa64c-9d0a-8142-b1a8-fb6b1b0b9f6d"
				class="code"><code class="language-Bash">mdadm /dev/md0 --add /dev/sde</code></pre>
			<p id="131aa64c-9d0a-8179-a6df-cde5e77435ee" class=""><strong>Смотрим состояние массива:</strong></p>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"
				integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg=="
				crossorigin="anonymous" referrerPolicy="no-referrer"></script>
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
				integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ=="
				crossorigin="anonymous" referrerPolicy="no-referrer" />
			<pre id="131aa64c-9d0a-813d-ae43-d0926021c128"
				class="code"><code class="language-Bash">mdadm -D /dev/md0</code></pre>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"
				integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg=="
				crossorigin="anonymous" referrerPolicy="no-referrer"></script>
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
				integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ=="
				crossorigin="anonymous" referrerPolicy="no-referrer" />
			<pre id="131aa64c-9d0a-81e2-9df7-eb54f21e887d" class="code"><code class="language-Plain Text" style=" word-break:break-all">...
       Update Time : Thu Mar  7 20:57:13 2019
             State : clean, degraded, recovering
...
    Rebuild Status : 40% complete
...
</code></pre>
			<ul id="131aa64c-9d0a-81d9-bd60-c4b315ce37ac" class="bulleted-list">
				<li style="list-style-type:disc">recovering говорит, что RAID восстанавливается; Rebuild Status —
					текущее состояние восстановления массива (в данном примере он восстановлен на 40%).</li>
			</ul>
			<p id="131aa64c-9d0a-81b9-bd68-d9b9ee039079" class=""><strong>Если синхронизация выполняется слишком
					медленно, можно увеличить ее скорость. Для изменения скорости синхронизации вводим:</strong></p>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"
				integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg=="
				crossorigin="anonymous" referrerPolicy="no-referrer"></script>
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
				integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ=="
				crossorigin="anonymous" referrerPolicy="no-referrer" />
			<pre id="131aa64c-9d0a-81f1-b713-cfeb5b2d45aa"
				class="code"><code class="language-Bash">echo &#x27;10000&#x27; &gt; /proc/sys/dev/raid/speed_limit_min</code></pre>
			<ul id="131aa64c-9d0a-818d-a74b-eaa2d0e4525d" class="bulleted-list">
				<li style="list-style-type:disc">по умолчанию скорость speed_limit_min = 1000 Кб, speed_limit_max —
					200000 Кб. Для изменения скорости, можно поменять только минимальную.</li>
			</ul>
			<h2 id="131aa64c-9d0a-8121-a9ea-cc96b73a49b1" class=""><strong>3.6 Пересборка массива</strong></h2>
			<p id="131aa64c-9d0a-8153-b413-d4583b6e9bf4" class=""><strong>Если нам нужно вернуть ранее разобранный или
					развалившийся массив из дисков, которые уже входили в состав RAID, вводим:</strong></p>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"
				integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg=="
				crossorigin="anonymous" referrerPolicy="no-referrer"></script>
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
				integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ=="
				crossorigin="anonymous" referrerPolicy="no-referrer" />
			<pre id="131aa64c-9d0a-8121-93e9-c658008afe4e"
				class="code"><code class="language-Bash">mdadm --assemble --scan</code></pre>
			<ul id="131aa64c-9d0a-8116-90e9-e9194b229366" class="bulleted-list">
				<li style="list-style-type:disc">данная команда сама найдет необходимую конфигурацию и восстановит RAID.
				</li>
			</ul>
			<p id="131aa64c-9d0a-81a2-b9be-f6793ccbe29f" class=""><strong>Также, мы можем указать, из каких дисков
					пересобрать массив:</strong></p>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"
				integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg=="
				crossorigin="anonymous" referrerPolicy="no-referrer"></script>
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
				integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ=="
				crossorigin="anonymous" referrerPolicy="no-referrer" />
			<pre id="131aa64c-9d0a-8170-a445-e74d26c21b23"
				class="code"><code class="language-Bash">mdadm --assemble /dev/md0 /dev/sdb /dev/sdc</code></pre>
			<h2 id="131aa64c-9d0a-8178-bb24-dfad646ff97a" class=""><strong>3.7 Запасной диск (Hot Spare)</strong></h2>
			<p id="131aa64c-9d0a-8114-bd78-d70b094fc9c2" class="">Если в массиве будет запасной диск для горячей замены,
				при выходе из строя одного из основных дисков, его место займет запасной.</p>
			<p id="131aa64c-9d0a-8194-a7a8-cfa9dd772439" class=""><strong>Диском Hot Spare станет тот, который просто
					будет добавлен к массиву:</strong></p>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"
				integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg=="
				crossorigin="anonymous" referrerPolicy="no-referrer"></script>
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
				integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ=="
				crossorigin="anonymous" referrerPolicy="no-referrer" />
			<pre id="131aa64c-9d0a-814b-a11a-e365ee890a42"
				class="code"><code class="language-Bash">mdadm /dev/md0 --add /dev/sdd</code></pre>
			<p id="131aa64c-9d0a-8161-b2b9-c0b53b59b1fe" class=""><strong>Информация о массиве изменится,
					например:</strong></p>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"
				integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg=="
				crossorigin="anonymous" referrerPolicy="no-referrer"></script>
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
				integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ=="
				crossorigin="anonymous" referrerPolicy="no-referrer" />
			<pre id="131aa64c-9d0a-81d6-9cc4-fe8d009de1ac"
				class="code"><code class="language-Bash">mdadm -D /dev/md0</code></pre>
			<figure id="131aa64c-9d0a-8182-b3ae-f584bb9134b2" class="image"><a
					href="https://i.imgur.com/O5023Zn.png"><img style="width:528px"
						src="https://i.imgur.com/O5023Zn.png" /></a></figure>
			<p id="131aa64c-9d0a-812b-8b4c-c2adfd3ea52e" class=""><strong>Проверить работоспособность резерва можно
					вручную, симулировав выход из строя одного из дисков:</strong></p>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"
				integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg=="
				crossorigin="anonymous" referrerPolicy="no-referrer"></script>
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
				integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ=="
				crossorigin="anonymous" referrerPolicy="no-referrer" />
			<pre id="131aa64c-9d0a-81c0-b778-c98863d7d430"
				class="code"><code class="language-Bash">mdadm /dev/md0 --fail /dev/sdc</code></pre>
			<p id="131aa64c-9d0a-810b-bbc5-de99fc34fe64" class=""><strong>И смотрим состояние:</strong></p>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"
				integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg=="
				crossorigin="anonymous" referrerPolicy="no-referrer"></script>
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
				integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ=="
				crossorigin="anonymous" referrerPolicy="no-referrer" />
			<pre id="131aa64c-9d0a-81ec-8f92-fd1d29d220ca"
				class="code"><code class="language-Bash">mdadm -D /dev/md0</code></pre>
			<figure id="131aa64c-9d0a-819f-a941-c2c1d7b72ac5" class="image"><a
					href="https://i.imgur.com/2HSz4v6.png"><img style="width:480px"
						src="https://i.imgur.com/2HSz4v6.png" /></a></figure>
			<ul id="131aa64c-9d0a-81f9-8c6d-f282d18a4664" class="bulleted-list">
				<li style="list-style-type:disc">как видим, начинается ребилд. На замену вышедшему из строя sdc встал
					hot-spare sdd.</li>
			</ul>
			<h2 id="131aa64c-9d0a-81a9-ae22-d51b42f071c0" class=""><strong>3.8 Добавить диск к массиву</strong></h2>
			<p id="131aa64c-9d0a-81c9-9aa6-efc07d99ece7" class="">В данном примере рассмотрим вариант добавления
				активного диска к RAID, который будет использоваться для работы, а не в качестве запасного.</p>
			<p id="131aa64c-9d0a-819d-852d-d2beae46b29f" class=""><strong>Добавляем диск к массиву:</strong></p>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"
				integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg=="
				crossorigin="anonymous" referrerPolicy="no-referrer"></script>
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
				integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ=="
				crossorigin="anonymous" referrerPolicy="no-referrer" />
			<pre id="131aa64c-9d0a-8181-be75-ea7eaf9dbe28"
				class="code"><code class="language-Bash">mdadm /dev/md0 --add /dev/sde</code></pre>
			<p id="131aa64c-9d0a-81c3-95eb-d32c425e641b" class=""><strong>Новый диск мы увидим в качестве
					spare:</strong></p>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"
				integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg=="
				crossorigin="anonymous" referrerPolicy="no-referrer"></script>
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
				integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ=="
				crossorigin="anonymous" referrerPolicy="no-referrer" />
			<pre id="131aa64c-9d0a-8111-bc05-f4abc07b9ad2"
				class="code"><code class="language-Bash">4 8 16 - spare /dev/sde</code></pre>
			<p id="131aa64c-9d0a-81ab-89fa-dbf91de17e07" class=""><strong>Теперь расширяем RAID:</strong></p>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"
				integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg=="
				crossorigin="anonymous" referrerPolicy="no-referrer"></script>
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
				integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ=="
				crossorigin="anonymous" referrerPolicy="no-referrer" />
			<pre id="131aa64c-9d0a-8193-b061-d32e088f87ff"
				class="code"><code class="language-Bash">mdadm -G /dev/md0 --raid-devices=3</code></pre>
			<ul id="131aa64c-9d0a-8102-b48c-fe3181cdc15a" class="bulleted-list">
				<li style="list-style-type:disc">в данном примере подразумевается, что у нас RAID 1 и мы добавили к нему
					3-й диск.</li>
			</ul>
			<p id="131aa64c-9d0a-8139-8168-d8cc40300f6e" class=""><em><strong>При создании необходимо указывать метку
						массива</strong></em><em> </em><em><strong>/dev/md5</strong></em><em>.</em><em><strong>Эта мера
						гарантирует, что вы всегда можете найти массив по логическому пути, даже если после перезагрузки
						массив активизирован автоматически и ему может быть присвоен другой номер</strong></em><em>. Как
					видно из записей журнала, приведенных выше, массив также имеет традиционное имя
					(</em><em><strong>здесь, /dev/md127</strong></em><em>),
					а </em><em><code>/dev/md/extra</code></em><em> - это просто символическая ссылка на реальное
					устройство массива.</em></p>
			<p id="131aa64c-9d0a-810d-a821-f108ecd9ae46" class=""><strong>Если добавлять новые диски в существующую OS
					Linux, то raid может переименоваться, новый raid необходимо будет добавить в fstab.</strong></p>
			<h1 id="131aa64c-9d0a-81e4-b169-f208d6f76424" class=""><strong>4. Практические советы</strong></h1>
			<p id="131aa64c-9d0a-8129-90bf-e657cb9f25bb" class="">Как правило, диски для <a
					href="https://integrus.ru/otkazoustojchivost/raid-massiv.html">настройки RAID</a> закупают одной
				партией. Соответственно и срок работы у них может быть примерно одинаковый. На этот случай рекомендуется
				сразу, в момент закупки дисков для массива закупить некоторый избыток. Например, для настройки RAID 10
				из 4 дисков — стоит купить 5 дисков. Так, в случае выхода из строя одного из них, вы сможете оперативно
				заменить его на новый до того, как «посыпятся» другие диски.</p>
			<p id="131aa64c-9d0a-81bd-977c-fcbd870e9543" class="">
			</p>
		</div>
	</article><span class="sans" style="font-size:14px;padding-top:2em"></span>
</body>

</html>