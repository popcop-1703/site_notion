<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Практическая работа №3.3</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	padding-inline-start: 0;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.page-description {
    margin-bottom: 2em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-default_background {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 237, 214, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-default_background {
	color: inherit;
	fill: inherit;
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 237, 214, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-uiBlue { background-color: rgba(35, 131, 226, .07); }
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-transparentGray { background-color: rgba(227, 226, 224, 0); }
.select-value-color-translucentGray { background-color: rgba(0, 0, 0, 0.06); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(249, 228, 188, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }
.select-value-color-pageGlass { background-color: undefined; }
.select-value-color-washGlass { background-color: undefined; }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="f42b7192-92cc-4d67-894e-ccba56c75959" class="page sans"><header><h1 class="page-title">Практическая работа №3.3</h1><p class="page-description"></p></header><div class="page-body"><hr id="3ea1b934-bb9a-4779-9aef-61e9835d21a3"/><h2 id="37a2cb30-445b-4aac-900a-85b5f70525b3" class="">Практическая работа &quot;Сервисы в Linux&quot;</h2><h3 id="34ded4dd-a7bb-45be-b59c-feafbcab53c1" class=""><strong>Цель работы:</strong></h3><ul id="8e45d1c2-87bd-4b5e-adc2-8adbfe5f8988" class="bulleted-list"><li style="list-style-type:disc">Научиться работать с базовыми сервисами Linux.</li></ul><ul id="72819d1c-84f4-4b86-894a-f82dafeee998" class="bulleted-list"><li style="list-style-type:disc">Проделать всё своими ручками, написать свою инструкцию по проделанной работе.</li></ul><h3 id="bdf7c86b-74c9-4f01-ba5b-a344d9327039" class="">Задача:</h3><ul id="ab8df2f0-7d84-40eb-aa7e-ba60ed0dc4c6" class="bulleted-list"><li style="list-style-type:disc">Научиться работать на уровне пользователя с сервисами:<ol type="1" id="e64fae49-ae0b-4c79-9987-af54c8c09670" class="numbered-list" start="1"><li>Apache</li></ol><ol type="1" id="6c1c8150-88d2-4312-99fb-b89737087189" class="numbered-list" start="2"><li>Telnet</li></ol><ol type="1" id="7664a373-ab34-42e7-b395-6c7d0be550cb" class="numbered-list" start="3"><li>FTP</li></ol><ol type="1" id="d5b3f515-de91-4fc7-80dc-6164500f86e0" class="numbered-list" start="4"><li>SMB</li></ol></li></ul><p id="2a11b053-56a2-47eb-a89b-0b507001c9a2" class="">
</p><h3 id="c270fdbf-966f-4696-9780-9cbf0c93e9e1" class="">Что такое сервисы в Linux</h3><p id="08a457f1-115d-4248-a93d-9a5321f4abd8" class="">Сервисы или службы — это программы, которые работают в системе Linux в фоновом режиме. Обычно они запускаются при загрузке системы. Большинство сервисов необходимы для полноценной работы системы, то есть они являются своего рода кирпичиками, из которых строится работающая система.</p><p id="05deea35-4956-4ec9-83bb-a475f7e5de01" class="">При запуске системы загружается целый ряд сервисов, которые включены для автозагрузки. Сервисы работают пока система запущена, и выгружаются при выключении системы.</p><p id="20d78b8a-a4fa-49d3-b43c-8b8681fb329f" class="">Чаще всего в Linux дистрибутивах для инициализации сервисов используется демон Systemd. К Systemd-дистрибутивам относятся Ubuntu, Debian, Linux Mint, Fedora, openSUSE, Solus и другие.</p><p id="98d921ed-f01a-42e4-b30e-cf679bff11e5" class="">Есть дистрибутивы, которые не используют Systemd. Вместо Systemd могут использоваться такие системы инициализации, как Upstart, SysV.</p><p id="e6a9659d-0630-4041-ac83-ac32adb98dba" class="">В качестве примеров сервисов можно привести: веб-сервер Apache, Network Manager, фаервол Ufw и другие.</p><p id="4387528f-850a-4196-b15e-6b87d93dd058" class="">Для управления сервисами (Systemd) используется утилита systemctl. Ниже мы рассмотрим основные команды данной утилиты.</p><h3 id="14f59deb-50ea-42fa-a1fc-e11d2952d702" class="">Apache</h3><p id="34d44c7e-1d4c-4182-929e-05bbef636e9b" class=""><strong>Apache</strong> — это кроссплатформенное программное обеспечение для гибкой настройки надежных веб-серверов. На базе Apache строится огромное количество веб-сервисов и сайтов.</p><p id="eff59197-5238-4223-bb68-2c25084170ca" class="">Этот инструмент для создания серверов очень популярен в мире за счет высокого уровня безопасности и обширного количества модулей, которые можно подключить, чтобы упростить управление веб-ресурсами.</p><p id="1abb2368-5340-4df4-9f84-7fe96dcd3952" class="">Apache считается свободным программным обеспечением, поэтому разрабатывается и поддерживается сообществом, а не отдельной компанией. Соответственно, и распространяется он бесплатно.</p><h3 id="9fb041be-c975-4715-92a0-81fc7e26444e" class="">Telnet &amp; SSH</h3><p id="6a5bc63a-0a64-4437-b7b6-919a314552a3" class=""><strong>TELNET</strong> — сетевой протокол для реализации текстового терминального интерфейса по сети (в современной форме — при помощи транспорта TCP). Название «telnet» имеют также некоторые утилиты, реализующие клиентскую часть протокола.<br/>Выполняет функции протокола прикладного уровня модели OSI. Протокол telnet использовался для удалённого администрирования различными сетевыми устройствами и программными серверами, но уступил ssh из-за безопасности. Тем не менее может являться единственной возможностью взаимодействовать через cli с embedded systems, например, router, т.к. на них отсутствует ssh.<br/></p><p id="ec4d2a67-4fa0-4319-9946-a1c4c39be7cb" class=""><strong>SSH</strong> (Secure Shell) - это сетевой протокол, который обеспечивает безопасное удаленное соединение между двумя системами. Системные администраторы используют утилиты SSH для управления компьютерами, копирования или перемещения файлов между системами. Поскольку SSH передает данные по зашифрованным каналам, безопасность находится на высоком уровне.</p><h3 id="1f8ef28e-a39a-4727-a682-db26ad4eb38f" class="">FTP</h3><p id="28d33587-279b-4c4d-8a20-85a17c098a78" class="">FTP (англ. File Transfer Protocol) — протокол передачи файлов по сети, появившийся в 1971 году задолго до HTTP и даже до TCP/IP, благодаря чему является одним из старейших прикладных протоколов. Изначально FTP работал поверх протокола NC (nc - реализация подключений и ожиданий входящих соединений, через TCP и UDP), на сегодняшний день широко используется для распространения ПО и доступа к удалённым хостам. В отличие от TFTP, гарантирует передачу (либо выдачу ошибки) за счёт применения квотируемого протокола.<br/>Протокол построен на архитектуре «клиент-сервер» и использует разные сетевые соединения для передачи команд и данных между клиентом и сервером. Пользователи FTP могут пройти аутентификацию, передавая логин и пароль открытым текстом.<br/></p><h3 id="894fafc3-d47c-4ad7-9a82-55fceed1b6b7" class="">SMB</h3><p id="efaeba1d-a30b-4306-933a-40edcca738c5" class="">Samba — это программа, которая позволяет компьютерам UNIX/Linux имитировать машины Windows. При помощи Samba компьютеры могут обмениваться файлами или управлять заданиями на печать как файл-серверы или серверы печати под Windows. Подобно операционной системе UNIX/Linux, на которой она работает, Samba представляет собой разработанное множеством программистов ПО с открытым исходным кодом.<br/>Протокол SMB используется Microsoft Windows 2000, NT и 95/98 для организации доступа к дискам и принтерам. Используя набор утилит Samba от Andrew Tridgell (<br/><a href="mailto:Andrew.Tridgell@anu.edu.au">Andrew.Tridgell@anu.edu.au</a>), UNIX-машины (включая Linux) могут организовывать доступ к дискам и принтерам для Windows-машин.</p><h3 id="561aa6e2-2d5f-4e41-b3da-3348fdfdb8d9" class="">1.Сервисы или службы</h3><ul id="c1df7421-a5d7-4562-acdf-f2a47dd48ecd" class="bulleted-list"><li style="list-style-type:disc">это программы, которые работают в системе Linux в фоновом режиме. Обычно они запускаются при загрузке системы. Большинство сервисов необходимы для полноценной работы системы, то есть они являются своего рода кирпичиками, из которых строится работающая система.</li></ul><p id="3e1d0abc-0318-42d1-9fa4-8bb8d095578a" class="">При запуске системы загружается целый ряд сервисов, которые включены для автозагрузки. Сервисы работают пока система запущена, и выгружаются при выключении системы.</p><p id="4321b50f-6f33-4154-a1f1-1cf55665eec5" class=""><strong>Чтобы посмотреть какие сервисы у нас работают необходимо ввести команду</strong></p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="addaca02-61eb-4a74-b48b-89a5e2c073dc" class="code"><code class="language-Plain Text" style="white-space:pre-wrap;word-break:break-all">service --status-all</code></pre><figure id="f5c4a0af-da63-419f-bfbc-6598a2e52d36" class="image"><a href="https://i.imgur.com/ptoMZ9V.png"><img src="https://i.imgur.com/ptoMZ9V.png"/></a></figure><p id="72ef33b9-e74b-4285-b840-d74881b76985" class=""><code>systemd</code> — подсистема инициализации и управления службами в Linux, фактически вытеснившая в 2010-е годы традиционную подсистему init.</p><p id="7848ffe3-3351-47bb-a905-3a84e781a4ec" class="">Раньше использовался такой сервис как sysvinit, который был фактически на языке Bash и не имел широких возможностей как <code>systemd</code><br/>история управления сервисов начинается с 1983 года<br/></p><p id="506262e4-ea80-456a-9928-dcaa5ea9dba2" class=""><strong>Сравнение сервисов</strong></p><p id="c97abf9e-3648-48ac-b073-5e18826b7aaa" class=""><a href="https://www.opennet.ru/opennews/art.shtml?num=30412">https://www.opennet.ru/opennews/art.shtml?num=30412</a></p><p id="5c29f4d4-725e-4a27-80db-d8b59ae31917" class="">Но некоторые дистрибутивы, которые на ранних стадиях отделились по ветке истории, старые команды управления сервисов:</p><p id="39f803bf-55f4-4881-b53c-8740e84fe95f" class=""><a href="https://nosystemd.org/">https://nosystemd.org/</a> - <em>для расширения понятия и кругозора советую ознакомиться</em></p><p id="d1257ade-74df-43c1-84b5-64718f95050a" class=""><code>service --status-all</code></p><figure id="d86ad2a2-5f90-4920-af46-b64bca2acf29" class="image"><a href="https://i.imgur.com/ptoMZ9V.png"><img src="https://i.imgur.com/ptoMZ9V.png"/></a></figure><p id="89fce835-0748-448f-8aba-2d72d383ebcd" class=""><strong>тут мы видим что где стоят +, то они включены и запускаются при загрузке системы</strong></p><h3 id="38968420-a910-4720-ba8b-fd4488d1659d" class="">2.Давайте приступим к командам по управлению сервисами:</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="39bbc5c1-f245-44ed-afdd-d95cb40948dc" class="code"><code class="language-Plain Text" style="white-space:pre-wrap;word-break:break-all">sudo service apache2 status</code></pre><figure id="a037ef0a-c4bc-4b8d-9b44-36e90b982859" class="image"><a href="https://i.imgur.com/8KixNHG.png"><img src="https://i.imgur.com/8KixNHG.png"/></a></figure><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="f124967e-9d50-4b8c-a0f7-28a245dbe291" class="code"><code class="language-Plain Text" style="white-space:pre-wrap;word-break:break-all">если он не установлен, то установим его</code></pre><figure id="a18b92d9-523c-4dd0-9322-6a52914df3d3" class="image"><a href="https://i.imgur.com/d8p9eTl.png"><img src="https://i.imgur.com/d8p9eTl.png"/></a></figure><p id="81a93bb9-802e-4de8-856c-903eb36787be" class="">и если введём снова <code>service --status-all</code><br/>то увидим, что он добавился<br/></p><p id="ce83524b-b394-4659-b547-ce02e5dbefa8" class=""><em>далее, если он не запущен</em></p><figure id="83ec1f72-0dbd-4265-8a6a-76bd4665a40f" class="image"><a href="https://i.imgur.com/J5GQwNs.png"><img src="https://i.imgur.com/J5GQwNs.png"/></a></figure><p id="7d9c1bb0-e835-4966-a7f7-44a0eda26701" class=""><em>то запустим его с помощью</em></p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="7ec8aeda-6139-4a6f-8e79-d75f5b17b453" class="code"><code class="language-Plain Text" style="white-space:pre-wrap;word-break:break-all">sudo service apache2 start</code></pre><figure id="a3798cab-baa0-4418-9cc3-bfc8b81ed4c6" class="image"><a href="https://i.imgur.com/tM6tvRl.png"><img src="https://i.imgur.com/tM6tvRl.png"/></a></figure><p id="4b42d701-7560-457d-befc-8fc20961fb3f" class=""><em>и введём</em></p><p id="1459bb90-1bb2-4332-8e6c-a197032a42cd" class=""><code>sudo service apache2 status</code></p><figure id="36e79aa8-3984-4daa-b0c9-a0fa0f08acc2" class="image"><a href="https://i.imgur.com/BkHFuLF.png"><img src="https://i.imgur.com/BkHFuLF.png"/></a></figure><p id="c9ec9c79-eda2-4403-b7fe-1805efbf9a7b" class=""><em>увидим, что он запустился</em></p><p id="3dc67a2c-ee63-4ed0-ad18-7ca24db26940" class=""><em>также введём команду</em></p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="c14c7d74-afcb-40f8-be34-2300d2eff012" class="code"><code class="language-Plain Text" style="white-space:pre-wrap;word-break:break-all">service --status-all</code></pre><figure id="94efb8de-b3ff-405f-879f-5144316802bf" class="image"><a href="https://i.imgur.com/UqmSEZ7.png"><img src="https://i.imgur.com/UqmSEZ7.png"/></a></figure><p id="82def01d-b363-456f-b0a8-872f566ca693" class=""><em>увидим, что он добавился как сервис который работает</em></p><h3 id="dd7c4658-c39a-401b-8f45-df6b75fa16c2" class="">2.1 Затем давайте попробуем зайти на страничку нашего Apache2</h3><p id="0f465fb0-0212-442d-baf4-e2b9cf9d12f5" class=""><em>для этого делаем следующее:</em></p><p id="2b9c2f55-5766-4c24-ab51-39be77c2832b" class=""><em>открываем браузер и вводим в строке ip-адрес 127.0.0.1</em></p><figure id="4a5b3ef7-b7f3-458f-8924-6b328fc54cee" class="image"><a href="https://i.imgur.com/p1F8Wma.png"><img src="https://i.imgur.com/p1F8Wma.png"/></a></figure><p id="89f853b9-ae82-4daa-bac7-71f02203efb4" class="">и мы видим страничку сервиса Apache2, если её заменить web-приложением, то мы уже будем видеть страничку приложения.<br/>Таким образом проверяем, что web-сервер работает.<br/></p><p id="d90318d0-4cf9-4ce3-bd54-e698921220a6" class="">Далее давайте отключим web-сервер и посмотрим какой вывод нам даст браузер, отключается следущей командой:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="8db0fdc2-d2b3-48bf-8670-39fe888d2cf7" class="code"><code class="language-Plain Text" style="white-space:pre-wrap;word-break:break-all">sudo service apache2 stop</code></pre><figure id="6b192b12-8476-4d1b-ad6c-c8918f063112" class="image"><a href="https://i.imgur.com/WNBKc75.png"><img src="https://i.imgur.com/WNBKc75.png"/></a></figure><figure id="89908644-9985-49b0-b00a-fde57df556c0" class="image"><a href="https://i.imgur.com/LszkblK.png"><img src="https://i.imgur.com/LszkblK.png"/></a></figure><p id="4d5ebebe-0563-45e8-a141-356f8eafaa5d" class=""><em>и соответственно видим, что сервис выключился</em></p><p id="5c37edb9-90c6-44fd-b508-abd993f4d719" class="">теперь давайте рассмотрим аналоги:  systemctl</p><p id="909fb52d-ba34-4cc4-bd26-fa5d508f1e40" class=""><strong>введём</strong></p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1ee92583-2550-4ecb-810b-e21ac7212f9c" class="code"><code class="language-Plain Text" style="white-space:pre-wrap;word-break:break-all">sudo sysyemctl status</code></pre><figure id="b05d01d7-1556-4ec6-bea3-15e20ccd77c6" class="image"><a href="https://i.imgur.com/XFA7oVo.png"><img src="https://i.imgur.com/XFA7oVo.png"/></a></figure><p id="70d8f0c9-122e-4e14-bd35-d00a53ca6ba0" class=""><strong>также можно управлять сервисами:</strong></p><p id="69df0921-41e0-44b2-95a9-9443d0cc86a1" class=""><code>sudo systemctl start apache2sudo systemctl stop apache2</code><br/>все команды аналогичны<br/></p><p id="c07c2375-3714-4f76-8184-55b1228b39f0" class="">Если мы выполняем через команды управления сервисами, то это никак не влияет на автозагрузку сервиса</p><p id="5a42689b-581c-48bf-b5e9-0fa9161501ed" class="">Но если есть необходимость добавить сервис в автозагрузку, то нужно ввести:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="f07c5dea-0115-4943-ada2-769b506429f4" class="code"><code class="language-Plain Text" style="white-space:pre-wrap;word-break:break-all">sudo systemctl enable apache2</code></pre><p id="5ffb6f70-2a6f-45da-888b-eeb2e467af7f" class=""><em>тем самым мы добавим сервис в автозагрузку</em></p><figure id="ad8aeb37-bc21-4641-b700-102e97296f0e" class="image"><a href="https://i.imgur.com/PhuRbAY.png"><img src="https://i.imgur.com/PhuRbAY.png"/></a></figure><p id="a7220076-75d4-4b1f-9a0a-8f5b9b56ab7e" class="">после этой команды сервис будет запущен при старте, если нам надо исключить сервис из автозагрузке, сделаем следующее:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="5cfefbe2-0554-4b3d-9ca8-45c529588b63" class="code"><code class="language-Plain Text" style="white-space:pre-wrap;word-break:break-all">sudo systemctl disable apache2</code></pre><figure id="7cb11d30-ec32-49e6-b524-ed9ce16ae321" class="image"><a href="https://i.imgur.com/KM4yU3o.png"><img src="https://i.imgur.com/KM4yU3o.png"/></a></figure><p id="699758d9-96cc-41ba-ba2c-a465bd8005bb" class=""><a href="https://wiki.merionet.ru/servernye-resheniya/43/kak-zapustit-ostanovit-i-perezapustit-servisy-v-linux/">https://wiki.merionet.ru/servernye-resheniya/43/kak-zapustit-ostanovit-i-perezapustit-servisy-v-linux/</a> - <em>для тех кому будет интересно, можно ознакомиться в этой статье.</em></p><h3 id="aafce157-9e07-459c-94d1-0689ebc8a1ee" class="">2.2 сервис Telnet</h3><p id="f4a0c492-38bf-4c25-8c85-22d946aade46" class=""><strong>он актуален для pentesta, но не актуален для администрирования</strong></p><p id="0aac76f6-b469-413e-8670-0e001f7eaa05" class=""><em>если данный сервис не установлен, то делаем слудующее</em></p><p id="76ff8913-4502-429c-9c54-59e9c8ebc423" class=""><code>sudo apt-get install telnet</code></p><p id="d90a2d8e-5d18-42e9-839b-670519f9cc09" class=""><strong>у Telnet есть несколько режимов работы:</strong></p><ul id="9d8399fe-000f-41a1-9c82-cc0d48f2ed1e" class="bulleted-list"><li style="list-style-type:disc">Режим «Тестирование»<br/>Другой не менее популярный вариант – тестирование веб-ресурсов. Чем удобен такой режим? Клиентская машина обрабатывает только текст, без загрузки графики. Например, введём в терминале:<br/><br/><strong>telnet </strong><strong><a href="http://opennet.ru/">opennet.ru</a></strong><strong> 80</strong><br/>Утилита отправит запрос сайту <br/><a href="http://opennet.ru/">opennet.ru</a> на порт под номером 80. Далее вводим ключ: GET / для показа кода страницы.</li></ul><p id="abd3aa4d-aaa2-43a5-814f-49a2116cb8a2" class=""><em>Результат представится в виде текстового сообщения с «кракозябрами», поскольку утилита не работает с русскими шрифтами.</em></p><figure id="7187d0f1-b329-4338-ac41-3976723ad584" class="image"><a href="https://i.imgur.com/Fok6Khm.png"><img src="https://i.imgur.com/Fok6Khm.png"/></a></figure><p id="e9e38c81-c256-454f-9a80-2b8a2e4ff835" class="">также можно узнать есть ли на host ssh сервер с помощью telnet:</p><p id="89f13659-ea41-4769-a60e-14d31be51bb5" class=""><code>telnet -d ip-адрес 22</code></p><p id="1074ed3e-d1bf-496e-9391-12cb02bd55e0" class=""><strong>Для установки сервера Telnet</strong></p><p id="89d04e00-92d3-4044-a4ba-c56d3408b24f" class="">Введите команду на удалённом сервере</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3b3be27c-cf1f-42df-a230-5e99a1b3fe0f" class="code"><code class="language-Plain Text" style="white-space:pre-wrap;word-break:break-all">apt-get install telnetd</code></pre><figure id="c09217ed-1ea2-483c-87e7-3a3a3ddc18a4" class="image"><a href="https://i.imgur.com/k86kjFE.png"><img src="https://i.imgur.com/k86kjFE.png"/></a></figure><p id="331de849-4d6b-4443-8b9b-c45ceb7c2565" class=""><em>после чего на свой машинке вводим команду</em></p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1de3c82d-c5d0-4bac-a99f-9615ed3a1214" class="code"><code class="language-Plain Text" style="white-space:pre-wrap;word-break:break-all">telnet -d ip-адрес 23</code></pre><figure id="7757bf70-01a1-4b61-9c6e-bd7e441e3f5f" class="image"><a href="https://i.imgur.com/BSZXeIT.png"><img src="https://i.imgur.com/BSZXeIT.png"/></a></figure><p id="244743a2-fcbc-497d-a4c0-53e780cdcfd8" class=""><em>и мы заходим на удалённый сервер</em></p><figure id="e204ff2a-8a44-482f-972c-3a23522de189" class="image"><a href="https://i.imgur.com/JGFiWi9.png"><img src="https://i.imgur.com/JGFiWi9.png"/></a></figure><p id="2f5ff50b-115c-4b84-a614-302bd96d93b9" class=""><strong>Использовать его очень нерекомендуется из-за того, что протокол без шифрования.</strong></p><h3 id="a5f77e81-caed-4a13-982b-412cec8226fa" class="">2.3 SSH</h3><p id="5c8a6f4e-0ef9-47e8-b74b-12d22cebdbf6" class="">SSH (англ. Secure SHell — «безопасная оболочка») – протокол передачи данных, позволяющий производить безопасное и защищенное управление операционной системой и данными. Это сетевой протокол прикладного уровня, который дает возможность шифрования передаваемых данных и паролей. К тому же позволяет передавать любой другой протокол.<br/>Первая версия протокола SSH была разработана аж в 1995 году. С тех пор были обнаружены некоторые слабые места и программа претерпела ряд существенных изменений. Таким образом, уже через год, в 1996 году, в свет вышла вторая версия SSH – 2. Она не совместима с первой версией и, говоря о SSH сегодня, всегда подразумевается SSH – 2. С тех пор SSH не изменила значительно стандарты своей работы и широко используется по сей день.<br/>SSH является сугубо коммерческим продуктом и предоставляется на платной основе. Однако повсеместно доступна и ее бесплатная версия, которая носит название OpenSSH.  Не смотря на то, что OpenSSH является лишь одной из версий SSH, она намного чаще используется программистами. Некоторые даже считают, то он более безопасен и удобен в использовании, благодаря своему открытому исходному коду.<br/></p><p id="3596f1cc-fdca-43ad-8693-328c26c39b35" class=""><strong>Возможности SSH</strong></p><ul id="e3a9dab7-a1d3-4298-85b3-dd6b0b58429c" class="bulleted-list"><li style="list-style-type:disc">Позволяет удаленно работать на компьютере через командную оболочку.</li></ul><ul id="3b452177-e22d-48fb-a7a6-2bbea5bb5148" class="bulleted-list"><li style="list-style-type:disc">Позволяет осуществлять шифрование с помощью различных алгоритмов.</li></ul><ul id="4890e7b4-a475-49eb-ae7c-7b8f9f1dd929" class="bulleted-list"><li style="list-style-type:disc">Так как SSH позволяет безопасно передавать практически любой сетевой протокол, это позволяет передавать по шифрованному каналу звуковые и видео файлы.</li></ul><ul id="0cf2620c-e6be-43e0-bddc-73bc1a88a740" class="bulleted-list"><li style="list-style-type:disc">Производит сжатие файлов для их последующего шифрования и передачи.</li></ul><ul id="c33a95f1-40df-4954-9b2f-840d11ba0c6b" class="bulleted-list"><li style="list-style-type:disc">Защищает передачу данных по каналу и предотвращает возможность включения в установленную сессию и перехватить данные.</li></ul><p id="a22c3ebc-713c-4dd1-a1a1-e608afcfa0cd" class=""><strong>для установки сервера нужно:</strong></p><p id="6a9a6151-90e1-414b-99ea-86b691a9ce9a" class=""><code>sudo apt-get install openssh-server</code></p><p id="c38af9f0-13f1-4a04-8dbf-ea3364576e0f" class=""><strong>конфигурацию меняем в sudo nano /etc/ssh/ssh_config</strong></p><figure id="57f2f31d-f062-4c74-a333-5473a9d45205" class="image"><a href="https://i.imgur.com/kgPQ01n.png"><img src="https://i.imgur.com/kgPQ01n.png"/></a></figure><p id="83f75482-b3c1-4d47-ad47-620bdee61b5b" class=""><strong>На данном ресурсе можно посмотрть какие порты чаше всего сканируют злоумышлиники:</strong></p><p id="33825d65-4bdb-4462-9f21-6d9a9ebe01af" class=""><a href="https://scan.netlab.360.com/#/dashboard">https://scan.netlab.360.com/#/dashboard</a></p><figure id="ec8b1eb9-5f3e-4f5c-9ded-fcccf15aabe5" class="image"><a href="https://i.imgur.com/SzktVZX.png"><img src="https://i.imgur.com/SzktVZX.png"/></a></figure><p id="d29e0919-56d9-4177-8ee5-cf9565f8320a" class=""><code>самая подробная инструкция - это man :)</code></p><p id="cb7ce6a3-b758-4708-b143-b13d23ae0988" class=""><strong>Давайте рассмотрим несколько параметров:</strong></p><p id="8f929475-10b5-4d8c-b283-1a9046923e51" class=""><a href="http://tdkare.ru/sysadmin/index.php/Sshd_config">http://tdkare.ru/sysadmin/index.php/Sshd_config</a> - ссылка с подробным описанием параметров конфигурационного файла.</p><figure id="03da2dc1-302c-46fe-9269-630301ccd205" class="image"><a href="https://i.imgur.com/rgyRFhD.png"><img src="https://i.imgur.com/rgyRFhD.png"/></a></figure><ul id="fa23b7b7-bf57-4480-b970-407983e1444a" class="bulleted-list"><li style="list-style-type:disc">sudo sshd -t</li></ul><ul id="9c3a0d96-5284-4b7b-af95-4c8820ed0bce" class="bulleted-list"><li style="list-style-type:disc">sudo service ssh restart</li></ul><ul id="309d1255-b769-4ec1-acd3-995fcae3df5f" class="bulleted-list"><li style="list-style-type:disc">sudo service ssh stop</li></ul><ul id="74e20b21-3542-4c8a-b04d-4590303cbd4f" class="bulleted-list"><li style="list-style-type:disc">sudo service ssh start</li></ul><p id="4e7fc41f-4109-427d-8033-6faee949daff" class="">При внесении изменений в конфигурацию SSH, целесообразно перезапустить сервис. Настоятельно рекомендую перед запуском проверять конфигурацию (sshd_config). Это можно сделать используя флаг test mode. Этот дополнительный шаг позволяет убедиться, что синтаксис и опции корректны.<br/><br/><code>sudo sshd -t</code> - <strong>Команда не должна возвращать текст или ошибки.</strong></p><p id="96a66cdc-e810-4201-9eb9-d22c52311265" class="">Перезапуск сервиса ssh<br/><br/><code>sudo service ssh restart</code></p><p id="ff6f0a40-2fbb-460b-b50f-fa5ab83a6c6a" class="">Остановка сервиса ssh<br/><br/><code>sudo service ssh stop</code></p><p id="a47baa5a-e5ad-4874-adeb-e38832a6b6b3" class="">Запуск сервиса ssh<br/><br/><code>sudo service ssh start</code></p><h3 id="6aabb438-7ddb-41ad-a2ca-8d7fc30bf27d" class="">2.4 FTP</h3><p id="c5cf87eb-9ef0-436f-8ff7-c7328a2907b4" class="">FTP (File Transfer Protocol) — протокол передачи файлов. FTP придумали в 1971 году, еще до того, как появились протоколы TCP/IP. Сначала FTP работал поверх протокола NCP. Версия на основе TCP/IP появилась в 1980 году. А в 1985 году была принята спецификация FTP, которой пользуются до сих пор, позже в неё были добавлены полезные расширения, такие как, пассивный режим и поддержка IPv6.</p><p id="4e4da7d9-ab60-4e83-9e1e-175ebc4335e6" class=""><em>Место протокола FTP в стеке TCP/IP<br/>В стеке TCP/IP протокол находится на прикладном уровне.<br/></em></p><figure id="45f65a1c-879f-4fae-a285-5d7b8e6140ce" class="image"><a href="https://i.imgur.com/ZBpIOqF.png"><img src="https://i.imgur.com/ZBpIOqF.png"/></a></figure><p id="b2dadcf1-45c8-4f0d-a796-78127223dded" class=""><strong>Принцип работы протокола FTP</strong></p><p id="940b2add-e187-44b6-b8c5-87200181f53b" class="">Протокол FTP работает в режиме клиент сервер. На сервере есть файловая система, это структура каталогов в которой находятся файлы. Клиент по протоколу FTP подключается к серверу и может работать с файловой системой, просматривать каталоги, переходить между ними, загружать и записывать файлы сервера, перемещать их между разными каталогами и выполнять другие операции, которые можно делать с файловой системой.</p><figure id="05492843-f533-409f-abde-11b25bca5493" class="image"><a href="https://i.imgur.com/1XLJIdO.png"><img src="https://i.imgur.com/1XLJIdO.png"/></a></figure><p id="0471b999-286a-4028-ac8d-6c73f25d89db" class=""><strong>Протокол FTP, также как и HTTP для адресации файлов использует url.</strong></p><p id="38c99da2-bf21-4006-a9ee-c5a033204b4d" class="">Например, <a href="ftp://ftp-server.ru/pub/documents/latex/example1.tex">ftp://ftp-server.ru/pub/documents/latex/example1.tex</a>.</p><p id="4bd0bdfa-f9d4-4daf-9bc2-28f4277883eb" class=""><strong>URL состоит из 3-х частей:</strong></p><ul id="040045b2-cd4c-42f6-a46f-ac12a18b5790" class="bulleted-list"><li style="list-style-type:disc">первая часть ftp — идентификатор протокола;</li></ul><ul id="4df52268-7cb5-485f-a6a8-0fd0088edc50" class="bulleted-list"><li style="list-style-type:disc">вторая часть <a href="http://ftp-server.ru/">ftp-server.ru</a> — имя сервера, здесь может быть DNS имя либо IP адрес;</li></ul><ul id="ef89b2f8-3ec4-4e75-9179-b1b08ae3bfd8" class="bulleted-list"><li style="list-style-type:disc">третья часть pub/documents/latex/example1.tex — путь к файлу, файловой системе и само имя файла.</li></ul><p id="1e37fb17-181a-41de-8721-35048facff07" class=""><em>В отличии от других протоколов прикладного уровня, протокол FTP использует два отдельных соединения. Первое соединение управляющее, второе соединение для передачи данных.</em></p><figure id="9c41d89a-5075-4160-a3aa-782ade0e984f" class="image"><a href="https://i.imgur.com/SsbaRTS.png"><img src="https://i.imgur.com/SsbaRTS.png"/></a></figure><p id="43cd0126-5ef4-4bec-91e6-24eead4144d9" class=""><strong>Взаимодействие с транспортным уровнем</strong></p><p id="f6f0a813-ac7f-4d28-833d-d94e1cb39b7b" class="">FTP использует протокол транспортного уровня TCP, а для управляющего соединения на сервере используется порт 21. Соединение для данных может быть установлено в двух режимах: в активном и пассивном, при этом используются разные номера портов.</p><p id="665bb8f0-2e7c-4ea0-9730-e55a65196525" class="">В активном режиме FTP инициатором установки соединения для передачи данных является сервер. В этом случае используется порт 20 на сервере, а со стороны клиента порт больше 1024.</p><figure id="a3f42d45-4e58-4b87-9313-9dc9be795eda" class="image"><a href="https://i.imgur.com/aoSIszL.png"><img src="https://i.imgur.com/aoSIszL.png"/></a></figure><p id="093b2cb5-6d33-43b2-80aa-9d776d4ddf0a" class="">Однако, если между сервером и клиентом находится межсетевой экран или устройство трансляции сетевых адресов NAT, то сервер установить соединение с клиентом не сможет. В этом случае используется пассивный режим, при котором соединение для передачи данных устанавливает клиент. В пассивном режиме и на клиенте и на сервере используются порты с номерами больше, чем 1024.</p><figure id="b417d3e7-dfc7-4581-b435-8b12d2e718f1" class="image"><a href="https://i.imgur.com/1852x8z.png"><img src="https://i.imgur.com/1852x8z.png"/></a></figure><ul id="33e02f6f-ef31-4be1-a80b-bd7ed0aa61ce" class="bulleted-list"><li style="list-style-type:disc">Команды USER и PASS используются для аутентификации;</li></ul><ul id="1fad8d3e-8d98-46af-8ec8-5eeb90f07b2d" class="bulleted-list"><li style="list-style-type:disc">LIST позволяет посмотреть содержимое текущего каталога;</li></ul><ul id="b9fc91fd-9e2c-473a-9691-958f492f08f8" class="bulleted-list"><li style="list-style-type:disc">CWD поменять текущий каталог;</li></ul><ul id="c5b2c5ac-f36e-4114-9f3c-93ad0e54efa8" class="bulleted-list"><li style="list-style-type:disc">RETR позволяет загрузить файл с сервера на клиент;</li></ul><ul id="04c4237f-b1c7-47d3-a72c-0cea4b1234e4" class="bulleted-list"><li style="list-style-type:disc">STOR позволяет сохранить файл на сервере;</li></ul><ul id="370c0a5c-17c7-4ba5-b106-031d87e2e768" class="bulleted-list"><li style="list-style-type:disc">Протокол FTP может передавать данные в двух режимах, текстовом и бинарном. В текстовом режиме возможна отправка управляющих символов, которые будут обработаны специальным образом. В бинарном режиме, обработка специальных символов не производится. Для выбора режима, который будет использоваться для передачи файлов, служит команда TYPE;</li></ul><ul id="2a0bde5b-87c5-4bbd-8f01-02064aaeac60" class="bulleted-list"><li style="list-style-type:disc">DELE позволяет удалить файлы;</li></ul><ul id="4741f9c8-84f7-4479-b9ca-027572772340" class="bulleted-list"><li style="list-style-type:disc">Команды MKD и RMD используются для создания и удаления каталога;</li></ul><ul id="ca4f0ca5-9a54-4861-89f3-fcbc8a0e939d" class="bulleted-list"><li style="list-style-type:disc">По умолчанию FTP сервер работает в активном режиме, т.е. соединение для передачи данных устанавливает сервер. Команда PASV служит для перехода в пассивный режим;</li></ul><ul id="3b208e2c-ac59-46d3-a26f-baa672d7f5ca" class="bulleted-list"><li style="list-style-type:disc">Команда QUIT используется для корректного закрытия соединения FTP после того, как все необходимые операции с файлами и каталогами были завершены.</li></ul><p id="1e9b0621-5ba3-46a0-bca5-2468cb9b5c96" class="">Установка:<br/><br/><code>sudo apt install vsftpd</code></p><figure id="825612a9-1a87-4834-b60a-1e346bd5820f" class="image"><a href="https://i.imgur.com/w9QHsDY.png"><img src="https://i.imgur.com/w9QHsDY.png"/></a></figure><ul id="9dad2b06-5a68-4115-80f1-c69c47c14137" class="bulleted-list"><li style="list-style-type:disc">apt - если, чтото делается вручную</li></ul><ul id="e391895a-8e15-4932-96c8-ee2fb1f568fa" class="bulleted-list"><li style="list-style-type:disc">get - если используются скрипты</li></ul><p id="5891f675-b37f-4770-960f-77f2a9c1cbb1" class=""><em>поэтомы лучше использовать</em></p><p id="573d5b8e-5c4b-440b-8fd9-fa50cdfae3ea" class=""><code>apt-get</code></p><p id="93d77541-e442-4855-a243-f2c66a7f7bcc" class=""><strong>заходим в конфигурационный файл</strong></p><p id="b323686e-eabd-4e1b-b095-d5ea611d0995" class=""><a href="https://jakondo.ru/fajl-konfiguratsii-vsftpd-conf/">https://jakondo.ru/fajl-konfiguratsii-vsftpd-conf/</a> - подробное описание конфигурационного файла</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="ff06ec98-5781-44a7-83f5-87b90efbb146" class="code"><code class="language-Plain Text" style="white-space:pre-wrap;word-break:break-all">sudo nano /etc/vsftpd.conf</code></pre><figure id="efc1c7c9-b0b7-4c9d-bd9f-60a3d9121d1c" class="image"><a href="https://i.imgur.com/iMi53hS.png"><img src="https://i.imgur.com/iMi53hS.png"/></a></figure><figure id="4342d5b7-70c2-4f06-ba1b-46dddc04f7cb" class="image"><a href="https://i.imgur.com/iHW81OM.png"><img src="https://i.imgur.com/iHW81OM.png"/></a></figure><ul id="50198d91-02c1-4c4b-9094-fb415fb49dad" class="bulleted-list"><li style="list-style-type:disc">listen=NO</li></ul><p id="07915e7f-e87e-46db-9577-a697a7b664be" class="">Если опция включена сервер стартует в независимом от inetd/xinetd режиме &quot;standalone mode&quot;. В этом случае он сам заботится о прослушивании и определении входящих соединений.<br/>Default: NO<br/></p><ul id="bc905fa6-6afc-4d0f-b59d-5c4bdc5c14e8" class="bulleted-list"><li style="list-style-type:disc">listen_ipv6</li></ul><p id="11cbd6f2-e32b-4fe9-a4da-6bbd7faa5a59" class="">Тоже самое что listen, за исключением того что vsftpd слушает IPv6 протокол включительно. Этот параметр и listen взаимно исключаемые.<br/>Default: NO<br/></p><ul id="80a453e4-5ec4-49e5-add3-16798396990e" class="bulleted-list"><li style="list-style-type:disc">anonymous_enable</li></ul><p id="1660c6ec-d98d-4865-a249-2ae3844361f9" class="">Разрешает или запрещает вход анонимных пользователей. Если разрешено, пользователи с именами ftp и anonymous распознаются как анонимные пользователи.<br/>Default: YES<br/></p><p id="0cd0ab61-f5d3-4d55-8393-6b61ddd31732" class=""><strong>Например:</strong></p><p id="013d2b72-2a7d-4483-acae-2efa9ec38859" class=""><a href="https://ftp.dlink.ru/pub/">https://ftp.dlink.ru/pub/</a></p><figure id="205d93ed-f95d-4998-8573-8d6f8d33c62c" class="image"><a href="https://i.imgur.com/7VEZl0s.png"><img src="https://i.imgur.com/7VEZl0s.png"/></a></figure><p id="584dc23a-7c1a-45ff-a8ce-69f52e0cd8cf" class="">мы когда подключаемся мы анонимны для этого сайта</p><ul id="587393c5-9c75-4e8f-a70c-68c0ed23c18f" class="bulleted-list"><li style="list-style-type:disc">local_enable</li></ul><p id="540d4c21-2a6c-4423-853c-8c198117b964" class="">Разрешить анонимный вход под локальными логинами или нет? Если включено, то для авторизации могут использоваться обычные нормальные учётные записи пользователей из «/etc/passwd» (или оттуда, куда ссылается ваша настройка PAM). Это должно быть включено для того, чтобы работал любой НЕ «anonymous» логин, включая и виртуальных пользователей.<br/>По-умолчанию: NO<br/></p><ul id="7fc5e6fe-a6c4-4325-98f7-bcd4a1af8588" class="bulleted-list"><li style="list-style-type:disc">dirmessage_enable</li></ul><p id="4155918c-d23b-4f47-9bed-1150f45b9a96" class="">Если включено, то пользователям FTP-сервера можно показывать сообщения, когда они переходят в каталог. По-умолчанию каталог сканируется на наличие файла «.message», но вы можете указать другой файл, изменив расположение в значении параметра «message_file».<br/>По-умолчанию: NO (но демонстрационный файл настроек содержит YES)<br/></p><ul id="f5c0c2c2-c38c-4c26-88b4-a196e68bd69b" class="bulleted-list"><li style="list-style-type:disc">use_localtime</li></ul><p id="de36c29d-6f25-4485-91e1-f8af5471f53b" class="">Если параметр установлен в «YES», то vsftpd будет отображать время в вашей локальной временной зоне в списке содержимого в каталоге. По-умолчанию отображается GMT. Этот параметр может затронуть также время, возвращаемое FTP-командой «MDTM».<br/>По-умолчанию: NO<br/></p><ul id="6b8345e8-494e-4086-8e2b-fdd5743304c8" class="bulleted-list"><li style="list-style-type:disc">xferlog_enable</li></ul><p id="ce09557c-acfb-4973-aec3-4b8333d858d9" class="">Если параметр установлен в «YES», то лог-файл будет содержать детальную информацию о загрузках на vsftpd и закачках с vsftpd. По-умолчанию, этот файл находится в «/var/log/vsftpd.log», но путь к файлу может быть изменён установкой значения параметра «vsftpd_log_file».<br/>По-умолчанию: NO<br/></p><ul id="7950d98a-c2bf-4f28-bb8d-de525e02b24c" class="bulleted-list"><li style="list-style-type:disc">connect_from_port_20</li></ul><p id="adb79153-b976-448a-ac30-9a14c39db185" class="">Включение этого параметра указывает исходящим с сервера соединениям использовать 20 порт (ftp-data). По соображением безопасности, некоторые клиенты могут настаивать на таком случае (чтобы параметр был установлен в YES). Наоборот, отключение этого параметра позволяет vsftpd запускаться с меньшими привилегиями.<br/>По-умолчанию: NO (но демонстрационный файл настроек содержит YES)<br/></p><ul id="f82943de-e37a-4b96-a7a5-60c62dd15d67" class="bulleted-list"><li style="list-style-type:disc">secure_chroot_dir</li></ul><p id="8caeb5d5-a977-4d4e-b45c-09b4a8830b9d" class="">Параметр должен содержать имя пустого каталога. Так же этот каталог не должен быть доступен для записи ftp-пользователем. Каталог используется безопасной клеткой chroot() во время, когда vsftpd не требует доступ к файловой системе.<br/>По-умолчанию: /usr/share/empty<br/></p><ul id="d8716c2a-6f31-4015-9007-cb6546e033a6" class="bulleted-list"><li style="list-style-type:disc">rsa_cert_file</li></ul><p id="15dd1f78-4f11-4959-bcb1-fbd4b56953ad" class="">Параметр содержит путь в файловой системе до сертификата RSA для использования в шифрованных SSL-соединениях.<br/>По-умолчанию: /usr/share/ssl/certs/vsftpd.pem<br/></p><p id="99a87e9e-8284-4cb2-898e-0fe53eaa76e8" class=""><em>Давайте выполним дополнительную конфигурацию по дополнению сервиса в атозагрузку:</em></p><p id="8b6b1e5c-0a46-4024-9958-7059dd17cb8a" class=""><code>sudo systemctl enable vsftpfd</code></p><figure id="58cecc18-1396-4966-95f6-2a37b3222e53" class="image"><a href="https://i.imgur.com/bOI6FnG.png"><img src="https://i.imgur.com/bOI6FnG.png"/></a></figure><p id="4a3ff8c9-a93d-47f5-bc16-fa96dfdc379b" class=""><em>посмотрим статус сервера</em></p><p id="b11428d7-da10-4765-a9a8-964a31faf130" class=""><code>sudo service vsftpd status</code></p><figure id="b0dd5a48-ea63-4828-80a0-4e526cfebe1d" class="image"><a href="https://i.imgur.com/cYl5C4m.png"><img src="https://i.imgur.com/cYl5C4m.png"/></a></figure><p id="db303759-3c69-48bf-91ec-99b667638bf9" class="">и теперь открываем браузер в Kali и вбиваем <a href="ftp://192.168.1.80/">ftp://192.168.1.80</a><em>вводим логин<br/>вводи пароль<br/></em></p><p id="0d53fab9-b5a4-438e-b00a-0950a89e7cdd" class="">что-бы увидеть всю файловую систему на сервисе необходимо в файле конфигурации снять комментарий и изменить YES на NO</p><p id="e14725ca-0a0e-46f2-ae33-c04c9086397f" class=""><code>chroot_local_user=YES</code></p><p id="3aa7c659-de32-4e62-b62a-1ad2a1c1691d" class=""><a href="https://jakondo.ru/fajl-konfiguratsii-vsftpd-conf/">https://jakondo.ru/fajl-konfiguratsii-vsftpd-conf/</a> - подробное описание конфигурационного файла</p><p id="34173877-1865-449b-91a2-ea21eb03a0d9" class=""><strong>есть программа, которая здорово облегчет жизнь именно с работой FTP</strong></p><p id="1758e093-aa29-451a-8c18-d06d5d92656f" class="">это <em>file zilla</em><a href="https://filezilla.ru/get/">https://filezilla.ru/get/</a></p><p id="47c1ef8c-ad32-4523-be2c-bf16a7c00855" class=""><strong>Как можно продемонстрировать, что сервис ftp не шифруется</strong></p><p id="2df07b69-b024-4d1c-9309-5bfd0c324766" class=""><em>запускаем Wireshark</em></p><p id="289c9db3-7e5a-4fe7-a59e-96fa8aa109b6" class=""><em>и запускаем FileZilla на Windows подключаемся к нашей kali и видим следующее:</em></p><figure id="72ce7f4d-e855-4b8c-9279-61448e9aef27" class="image"><a href="https://i.imgur.com/DACHNBT.png"><img src="https://i.imgur.com/DACHNBT.png"/></a></figure><p id="1727663a-dc55-4b0d-adb8-fb3380ee177b" class=""><strong>Видим пароль, который мы вводили.</strong></p><p id="97c3be37-bbba-43d6-9382-f3f33db826b3" class=""><em>Таким образом можно перехватить трафик FTP.</em></p><h3 id="8e4d6df5-a5f1-4b13-a415-a160c36e55d8" class="">2.5 Samba</h3><p id="e952fcec-b131-42af-8256-5b659aa65311" class=""><strong>Введение</strong></p><p id="32d386eb-8b3f-4b4a-aa5b-53f0862680cc" class="">В общей структуре корпоративных сетей Microsoft Windows и Linux зачастую существуют как разобщенные миры. Попытки обеспечить «прозрачный» доступ сетевых клиентов Windows к ресурсам UNIX зачастую порождают множество проблем. Одним из способов, позволяющих их решить, является использование в UNIX/Linux протокола Server Message Block (SMB — Samba), который иногда также называется протоколом Session Message Block (SMB), протоколом NetBIOS или протоколом LanManager. Этот протокол не является разработкой Microsoft, однако он хорошо адаптирован для использования в сетях на основе Windows. Хотя эта статья и посвящена Linux, тем не менее Samba может работать на большинстве UNIX-подобных операционных систем. И еще одно замечание: в данной статье мы рассмотрим пакет SMB с точки зрения малого предприятия, которому нужен локальный файл- или принт-сервер, либо домашнего пользователя, имеющего несколько компьютеров и желающего, чтобы машины совместно использовали ресурсы. Поэтому даже начинающий администратор UNIX/Linux может принять эту статью как руководство к действию.</p><p id="b5a1e4d5-8622-452c-b4b2-594eea71976b" class=""><strong>Что умеет Samba</strong></p><p id="db7fa86a-1997-4498-bc93-7a59c91d544c" class="">Samba — это программа, которая позволяет компьютерам UNIX/Linux имитировать машины Windows. При помощи Samba компьютеры могут обмениваться файлами или управлять заданиями на печать как файл-серверы или серверы печати под Windows. Подобно операционной системе UNIX/Linux, на которой она работает, Samba представляет собой разработанное множеством программистов ПО с открытым исходным кодом.</p><p id="eacad7e5-333f-4814-8ec9-ef75859c5c06" class="">Протокол SMB используется Microsoft Windows 2000, NT и 95/98 для организации доступа к дискам и принтерам. Используя набор утилит Samba от Andrew Tridgell (<a href="mailto:Andrew.Tridgell@anu.edu.au">Andrew.Tridgell@anu.edu.au</a>), UNIX-машины (включая Linux) могут организовывать доступ к дискам и принтерам для Windows-машин. Утилиты smbfs, написанные Paal-Kr. Engstad (<a href="mailto:pke@engstad.ingok.hitos.no">pke@engstad.ingok.hitos.no</a>) и Volker Lendecke (<a href="mailto:lendecke@namu01.gwdg.de">lendecke@namu01.gwdg.de</a>), дают возможность машинам с UNIX монтировать SMB-ресурсы, доступные на машинах с Windows или Samba.</p><p id="2ccede2e-5300-4932-a94b-76d20afb5d0f" class=""><strong>C помощью Samba можно реализовать следующие наиболее распространенные:</strong></p><ul id="74493ce4-6e78-4919-aa29-a355bca87393" class="bulleted-list"><li style="list-style-type:disc">Давать доступ к дискам Linux Windows-машинам.</li></ul><ul id="367158d4-cd71-43b2-8ddf-662088369fcf" class="bulleted-list"><li style="list-style-type:disc">Получать доступ к дискам Windows для машин под Linux.</li></ul><ul id="d5244da0-4056-4e26-ad38-a91d79f672fc" class="bulleted-list"><li style="list-style-type:disc">Давать доступ к принтерам Linux для Windows-машин.</li></ul><ul id="c017c1e0-7a82-4ddd-8422-fdf26ffca08a" class="bulleted-list"><li style="list-style-type:disc">Получать доступ к принтерам Windows из Linux-систем.</li></ul><p id="287f1375-1047-4cdc-bd9b-717ca43c2332" class=""><em>для начала необходимо установить sambu</em></p><p id="afc91958-eb76-46d3-add6-30a6ac10e54d" class=""><code>sudo apt-get install samba</code></p><figure id="aaac967d-7926-40da-8048-55e097a94b2f" class="image"><a href="https://i.imgur.com/5aP8sY3.png"><img src="https://i.imgur.com/5aP8sY3.png"/></a></figure><p id="bcd2925e-6ecc-4a05-907f-c3e2d83a87ef" class=""><strong>переходим в конфигурационный файл</strong></p><p id="43b2ce30-3314-4714-93cd-7fa355d18f7e" class=""><code>sudo nano /etc/samba/smb.conf</code></p><p id="02d5c5e4-08f2-49b0-bd15-22961ebd6c99" class="">всё о этом конфигурационном файле тут <a href="https://smb-conf.ru/aio-write-behind-s.html">https://smb-conf.ru/aio-write-behind-s.html</a></p><p id="c023abae-04d2-4299-8d7d-c27cfbeae4b4" class=""><strong>есть команда</strong></p><p id="3db7b1f9-3c17-4d53-9f05-dbf95071db50" class=""><code>sudo testparm</code></p><p id="88f0e290-f659-4852-9353-35ff52c4fd31" class=""><em>Который позволяет убедиться о конфигурации samba и что она работает нормально</em></p><p id="bdb726d9-6d28-48f8-9f19-6235e866ef03" class=""><em>Давайте перейдём к настройке samba для того чтобы расшарить папку</em></p><figure id="fcd04751-8979-4cec-8d67-605077b28514" class="image"><a href="https://i.imgur.com/y2nV1Hu.png"><img src="https://i.imgur.com/y2nV1Hu.png"/></a></figure><ul id="28080f3b-5b27-4c2f-b272-0bc5dbea7011" class="bulleted-list"><li style="list-style-type:disc">[shared] — имя общей папки, которое увидят пользователи, подключившись к серверу.</li></ul><ul id="84bdaeab-33b8-42d4-a7e2-9acdf3ce1f49" class="bulleted-list"><li style="list-style-type:disc">comment — комментарий для удобства.</li></ul><ul id="205c4f92-1ef5-4f40-b0e8-153fd86c8433" class="bulleted-list"><li style="list-style-type:disc">path — путь на сервере, где будут храниться данные.</li></ul><ul id="e943140f-112f-4e22-9a4c-14c8b50cc4c5" class="bulleted-list"><li style="list-style-type:disc">public — для общего доступа. Установите в yes, если хотите, чтобы все могли работать с ресурсом.</li></ul><ul id="a3d1993f-c77c-4a95-a1b7-3dc697d03056" class="bulleted-list"><li style="list-style-type:disc">writable — разрешает запись на сетевой ресурс.</li></ul><ul id="e6971f1f-bbab-49a9-a9ef-dfac13e4d256" class="bulleted-list"><li style="list-style-type:disc">read only — только для чтения. Установите no, если у пользователей должна быть возможность создавать папки и файлы.</li></ul><ul id="093fc5f0-7e76-4a03-a38a-dba199a1a24a" class="bulleted-list"><li style="list-style-type:disc">guest ok — разрешает доступ к папке гостевой учетной записи.</li></ul><ul id="2e6fff08-a2dd-4871-ab59-dea814389e7e" class="bulleted-list"><li style="list-style-type:disc">create mask, directory mask, force create mode, force directory mode — при создании новой папки или файла назначаются полные права.</li></ul><ol type="1" id="c755fba9-5a73-418f-802c-fbc3196757ef" class="numbered-list" start="1"><li>john - имя шары</li></ol><ol type="1" id="557a6790-bb17-4a71-a6ae-d5f6a7ee2420" class="numbered-list" start="2"><li>browseablr - чтобы была видна</li></ol><ol type="1" id="4e27660d-a23c-452b-8688-8d9b04a8b97e" class="numbered-list" start="3"><li>path - директория</li></ol><ol type="1" id="ec2f6211-bcca-45ce-8024-9c7a940b20b6" class="numbered-list" start="4"><li>quest ok - важная опция, можно использовать любого пользователя</li></ol><ol type="1" id="fe915b20-31ff-4555-91b1-b0cdc002ea41" class="numbered-list" start="5"><li>read only - можно добавлять и удалять анонимным пользователям</li></ol><p id="04a1e9ce-468a-432e-ae54-10775f59c606" class=""><strong>Далее мы добавляем сервис в автозагрузку и запускаем его</strong></p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="bf598bdc-b309-42f9-ad57-1eeb6376a71d" class="code"><code class="language-Plain Text" style="white-space:pre-wrap;word-break:break-all">sudo systemctl enable abbd
sudo systemctl start smbd
</code></pre><p id="74a4f61c-51f4-483d-ba8c-7da58fd34a14" class="">затем для доступа через Windows надо сделать следующие</p><figure id="e7d87a15-5933-499e-bc64-d5dc51c8a7c4" class="image"><a href="https://i.imgur.com/QPXHNsV.png"><img src="https://i.imgur.com/QPXHNsV.png"/></a></figure><figure id="dbeb0ca1-f16b-4305-88fe-2a0bb8022de4" class="image"><a href="https://i.imgur.com/5dFkffE.png"><img src="https://i.imgur.com/5dFkffE.png"/></a></figure><p id="21f3318a-73c0-4304-8fcd-8ba6ec6afaa8" class=""><em>Затем создаём текстовый файл и 222.txt редактируем, идём в linux и затем уже в директорию tmp</em></p><p id="f0cb163b-8bc2-4c12-85c8-4dd69cfe0ec4" class=""><a href="https://www.samba.org/">https://www.samba.org/</a></p><p id="28d40c02-05ac-4fbf-9533-d760ed5361bc" class=""><strong>Вывод:<br/>В этой практической работе вы научились базовой работе с сервисами Linux.<br/></strong></p></div></article><span class="sans" style="font-size:14px;padding-top:2em"></span></body></html>